{
  "dxt_version": "0.1.0",
  "name": "tuannvm__mcp-trino",
  "display_name": "mcp-trino",
  "version": "1.0.0",
  "description": "A high-performance Model Context Protocol (MCP) server for Trino implemented in Go.",
  "author": {
    "name": "tuannvm"
  },
  "server": {
    "command": "mcp-trino",
    "args": [],
    "env": {
      "TRINO_HOST": "${user_config.trino_host}",
      "TRINO_PORT": "${user_config.trino_port}",
      "TRINO_USER": "${user_config.trino_user}",
      "TRINO_PASSWORD": "${user_config.trino_password}",
      "TRINO_SCHEME": "${user_config.trino_scheme}"
    }
  },
  "tools": [],
  "prompts": [],
  "keywords": [],
  "user_config": {
    "trino_host": {
      "type": "string",
      "title": "Trino Host",
      "description": "Hostname or IP address of the Trino cluster.",
      "required": true,
      "sensitive": false
    },
    "trino_port": {
      "type": "number",
      "title": "Trino Port",
      "description": "Port number for the Trino cluster.",
      "required": true,
      "sensitive": false
    },
    "trino_user": {
      "type": "string",
      "title": "Trino User",
      "description": "Username for connecting to the Trino cluster.",
      "required": true,
      "sensitive": false
    },
    "trino_password": {
      "type": "string",
      "title": "Trino Password",
      "description": "Password for connecting to the Trino cluster (optional).",
      "required": false,
      "sensitive": true
    },
    "trino_scheme": {
      "type": "string",
      "title": "Trino Scheme",
      "description": "Connection scheme (http or https) for the Trino cluster.",
      "required": false,
      "default": "http",
      "sensitive": false
    }
  },
  "readme": "# Trino MCP Server in Go\n\nA high-performance Model Context Protocol (MCP) server for Trino implemented in Go. This project enables AI assistants to seamlessly interact with Trino's distributed SQL query engine through standardized MCP tools.\n\n[![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/tuannvm/mcp-trino/build.yml?branch=main&label=CI%2FCD&logo=github)](https://github.com/tuannvm/mcp-trino/actions/workflows/build.yml)\n[![Go Version](https://img.shields.io/github/go-mod/go-version/tuannvm/mcp-trino?logo=go)](https://github.com/tuannvm/mcp-trino/blob/main/go.mod)\n[![Trivy Scan](https://img.shields.io/github/actions/workflow/status/tuannvm/mcp-trino/build.yml?branch=main&label=Trivy%20Security%20Scan&logo=aquasec)](https://github.com/tuannvm/mcp-trino/actions/workflows/build.yml)\n[![SLSA 3](https://slsa.dev/images/gh-badge-level3.svg)](https://slsa.dev)\n[![Go Report Card](https://goreportcard.com/badge/github.com/tuannvm/mcp-trino)](https://goreportcard.com/report/github.com/tuannvm/mcp-trino)\n[![Go Reference](https://pkg.go.dev/badge/github.com/tuannvm/mcp-trino.svg)](https://pkg.go.dev/github.com/tuannvm/mcp-trino)\n[![Docker Image](https://img.shields.io/github/v/release/tuannvm/mcp-trino?sort=semver&label=GHCR&logo=docker)](https://github.com/tuannvm/mcp-trino/pkgs/container/mcp-trino)\n[![GitHub Release](https://img.shields.io/github/v/release/tuannvm/mcp-trino?sort=semver)](https://github.com/tuannvm/mcp-trino/releases/latest)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\n[![Trust Score](https://archestra.ai/mcp-catalog/api/badge/quality/tuannvm/mcp-trino)](https://archestra.ai/mcp-catalog/tuannvm__mcp-trino)\n\n\n## Overview\n\nThis project implements a Model Context Protocol (MCP) server for Trino in Go. It enables AI assistants to access Trino's distributed SQL query engine through standardized MCP tools.\n\nTrino (formerly PrestoSQL) is a powerful distributed SQL query engine designed for fast analytics on large datasets.\n\n## Architecture\n\n```mermaid\ngraph TB\n    subgraph \"AI Clients\"\n        CC[Claude Code]\n        CD[Claude Desktop]\n        CR[Cursor]\n        WS[Windsurf]\n        CW[ChatWise]\n    end\n    \n    subgraph \"Authentication (Optional)\"\n        OP[OAuth Provider<br/>Okta/Google/Azure AD]\n        JWT[JWT Tokens]\n    end\n    \n    subgraph \"MCP Server (mcp-trino)\"\n        HTTP[HTTP Transport<br/>/mcp endpoint]\n        STDIO[STDIO Transport]\n        AUTH[OAuth Middleware]\n        TOOLS[MCP Tools<br/>• execute_query<br/>• list_catalogs<br/>• list_schemas<br/>• list_tables<br/>• get_table_schema<br/>• explain_query]\n    end\n    \n    subgraph \"Data Layer\"\n        TRINO[Trino Cluster<br/>Distributed SQL Engine]\n        CATALOGS[Data Sources<br/>• PostgreSQL<br/>• MySQL<br/>• S3/Hive<br/>• BigQuery<br/>• MongoDB]\n    end\n    \n    %% Connections\n    CC -.->|OAuth Flow| OP\n    OP -.->|JWT Token| JWT\n    \n    CC -->|HTTP + JWT| HTTP\n    CD -->|STDIO| STDIO\n    CR -->|HTTP + JWT| HTTP\n    WS -->|STDIO| STDIO\n    CW -->|HTTP + JWT| HTTP\n    \n    HTTP --> AUTH\n    AUTH -->|Validated| TOOLS\n    STDIO --> TOOLS\n    \n    TOOLS -->|SQL Queries| TRINO\n    TRINO --> CATALOGS\n    \n    %% Styling\n    classDef client fill:#e1f5fe\n    classDef auth fill:#f3e5f5\n    classDef server fill:#e8f5e8\n    classDef data fill:#fff3e0\n    \n    class CC,CD,CR,WS,CW client\n    class OP,JWT auth\n    class HTTP,STDIO,AUTH,TOOLS server\n    class TRINO,CATALOGS data\n```\n\n**Key Components:**\n- **AI Clients**: Various MCP-compatible applications\n- **Authentication**: Optional OAuth 2.0 with OIDC providers\n- **MCP Server**: Go-based server with dual transport support\n- **Data Layer**: Trino cluster connecting to multiple data sources\n\n## Features\n\n- ✅ MCP server implementation in Go\n- ✅ Trino SQL query execution through MCP tools\n- ✅ Catalog, schema, and table discovery\n- ✅ Docker container support\n- ✅ Supports both STDIO and HTTP transports\n- ✅ OAuth 2.0 authentication with OIDC provider support (Okta, Google, Azure AD)\n- ✅ StreamableHTTP support with JWT authentication (upgraded from SSE)\n- ✅ Backward compatibility with SSE endpoints\n- ✅ Compatible with Cursor, Claude Desktop, Windsurf, ChatWise, and any MCP-compatible clients.\n\n## Installation\n\n### Quick Install (One-liner)\n\nFor macOS and Linux, install with a single command:\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/tuannvm/mcp-trino/main/install.sh -o install.sh && chmod +x install.sh && ./install.sh\n```\n\n### Homebrew (macOS and Linux)\n\nThe easiest way to install mcp-trino is using Homebrew:\n\n```bash\n# Install mcp-trino\nbrew install tuannvm/mcp/mcp-trino\n```\n\nTo update to the latest version:\n\n```bash\nbrew update && brew upgrade mcp-trino\n```\n\n### Alternative Installation Methods\n\n#### Manual Download\n\n1. Download the appropriate binary for your platform from the [GitHub Releases](https://github.com/tuannvm/mcp-trino/releases) page.\n2. Place the binary in a directory included in your PATH (e.g., `/usr/local/bin` on Linux/macOS)\n3. Make it executable (`chmod +x mcp-trino` on Linux/macOS)\n\n#### From Source\n\n```bash\ngit clone https://github.com/tuannvm/mcp-trino.git\ncd mcp-trino\nmake build\n# Binary will be in ./bin/\n```\n\n## Downloads\n\nYou can download pre-built binaries for your platform:\n\n| Platform | Architecture | Download Link |\n|----------|--------------|---------------|\n| macOS | x86_64 (Intel) | [Download](https://github.com/tuannvm/mcp-trino/releases/latest/download/mcp-trino-darwin-amd64) |\n| macOS | ARM64 (Apple Silicon) | [Download](https://github.com/tuannvm/mcp-trino/releases/latest/download/mcp-trino-darwin-arm64) |\n| Linux | x86_64 | [Download](https://github.com/tuannvm/mcp-trino/releases/latest/download/mcp-trino-linux-amd64) |\n| Linux | ARM64 | [Download](https://github.com/tuannvm/mcp-trino/releases/latest/download/mcp-trino-linux-arm64) |\n| Windows | x86_64 | [Download](https://github.com/tuannvm/mcp-trino/releases/latest/download/mcp-trino-windows-amd64.exe) |\n\nOr see all available downloads on the [GitHub Releases](https://github.com/tuannvm/mcp-trino/releases) page.\n\n### Installation Troubleshooting\n\nIf you encounter issues during installation:\n\n**Common Issues:**\n- **Binary not found in PATH**: The install script installs to `~/.local/bin` by default. Make sure this directory is in your PATH:\n  ```bash\n  export PATH=\"$HOME/.local/bin:$PATH\"\n  ```\n  Add this to your shell profile (`.bashrc`, `.zshrc`, etc.) to make it permanent.\n\n- **Permission denied**: If you get permission errors, ensure the install directory is writable:\n  ```bash\n  mkdir -p ~/.local/bin\n  chmod 755 ~/.local/bin\n  ```\n\n- **Claude configuration not found**: If the install script doesn't detect your Claude installation:\n  - For Claude Desktop: Check if the config file exists at the expected location\n  - For Claude Code: Verify the `claude` command is available in PATH\n  - Use the manual configuration instructions provided by the script\n\n- **GitHub API rate limiting**: If you're hitting GitHub API rate limits:\n  ```bash\n  export GITHUB_TOKEN=your_github_token\n  curl -fsSL https://raw.githubusercontent.com/tuannvm/mcp-trino/main/install.sh | bash\n  ```\n\n**Getting Help:**\n- Check the [GitHub Issues](https://github.com/tuannvm/mcp-trino/issues) for similar problems\n- Run the install script with `--help` for usage information\n- Use manual installation methods if the automated script fails\n## MCP Integration\n\nThis MCP server can be integrated with several AI applications:\n\n### Using Docker Image\n\nTo use the Docker image instead of a local binary:\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino\": {\n      \"command\": \"docker\",\n      \"args\": [\"run\", \"--rm\", \"-i\",\n               \"-e\", \"TRINO_HOST=<HOST>\",\n               \"-e\", \"TRINO_PORT=<PORT>\",\n               \"-e\", \"TRINO_USER=<USERNAME>\",\n               \"-e\", \"TRINO_PASSWORD=<PASSWORD>\",\n               \"-e\", \"TRINO_SCHEME=http\",\n               \"ghcr.io/tuannvm/mcp-trino:latest\"],\n      \"env\": {}\n    }\n  }\n}\n```\n\n> **Note**: The `host.docker.internal` special DNS name allows the container to connect to services running on the host machine. If your Trino server is running elsewhere, replace with the appropriate host.\n\nThis Docker configuration can be used in any of the below applications.\n\n### Cursor\n\nTo use with [Cursor](https://cursor.sh/), create or edit `~/.cursor/mcp.json`:\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino\": {\n      \"command\": \"mcp-trino\",\n      \"args\": [],\n      \"env\": {\n        \"TRINO_HOST\": \"<HOST>\",\n        \"TRINO_PORT\": \"<PORT>\",\n        \"TRINO_USER\": \"<USERNAME>\",\n        \"TRINO_PASSWORD\": \"<PASSWORD>\"\n      }\n    }\n  }\n}\n```\n\nReplace the environment variables with your specific Trino configuration.\n\nFor HTTP+StreamableHTTP transport mode (recommended for web clients):\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino-http\": {\n      \"url\": \"http://localhost:8080/mcp\"\n    }\n  }\n}\n```\n\nFor remote MCP server with JWT authentication:\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino-remote\": {\n      \"url\": \"https://your-mcp-server.com/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n      }\n    }\n  }\n}\n```\n\nFor backward compatibility with SSE (legacy endpoint):\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino-sse\": {\n      \"url\": \"http://localhost:8080/sse\"\n    }\n  }\n}\n```\n\nThen start the server in a separate terminal with:\n\n```bash\n# Basic HTTP transport\nMCP_TRANSPORT=http TRINO_HOST=<HOST> TRINO_PORT=<PORT> TRINO_USER=<USERNAME> TRINO_PASSWORD=<PASSWORD> mcp-trino\n\n# With JWT authentication enabled\nMCP_TRANSPORT=http TRINO_OAUTH_ENABLED=true TRINO_HOST=<HOST> TRINO_PORT=<PORT> TRINO_USER=<USERNAME> TRINO_PASSWORD=<PASSWORD> mcp-trino\n\n# Production deployment with HTTPS\nMCP_TRANSPORT=http TRINO_OAUTH_ENABLED=true HTTPS_CERT_FILE=/path/to/cert.pem HTTPS_KEY_FILE=/path/to/key.pem TRINO_HOST=<HOST> TRINO_PORT=<PORT> TRINO_USER=<USERNAME> TRINO_PASSWORD=<PASSWORD> mcp-trino\n```\n\n### Claude Desktop\n\nTo use with [Claude Desktop](https://claude.ai/desktop), the easiest way is to use the install script which will automatically configure it for you. Alternatively, you can manually edit your Claude configuration file:\n\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n- Linux: `~/.config/Claude/claude_desktop_config.json`\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino\": {\n      \"command\": \"mcp-trino\",\n      \"args\": [],\n      \"env\": {\n        \"TRINO_HOST\": \"<HOST>\",\n        \"TRINO_PORT\": \"<PORT>\",\n        \"TRINO_USER\": \"<USERNAME>\",\n        \"TRINO_PASSWORD\": \"<PASSWORD>\"\n      }\n    }\n  }\n}\n```\n\nAfter updating the configuration, restart Claude Desktop. You should see the MCP tools available in the tools menu.\n\n### Claude Code\n\nTo use with [Claude Code](https://claude.ai/code), the install script will automatically configure it for you. Alternatively, you can manually add the MCP server:\n\n```bash\nclaude mcp add mcp-trino mcp-trino\n```\n\nThen set your environment variables:\n\n```bash\nexport TRINO_HOST=<HOST>\nexport TRINO_PORT=<PORT>\nexport TRINO_USER=<USERNAME>\nexport TRINO_PASSWORD=<PASSWORD>\n```\n\nRestart Claude Code to see the MCP tools available.\n\n### Windsurf\n\nTo use with [Windsurf](https://windsurf.com/refer?referral_code=sjqdvqozgx2wyi7r), create or edit your `mcp_config.json`:\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-trino\": {\n      \"command\": \"mcp-trino\",\n      \"args\": [],\n      \"env\": {\n        \"TRINO_HOST\": \"<HOST>\",\n        \"TRINO_PORT\": \"<PORT>\",\n        \"TRINO_USER\": \"<USERNAME>\",\n        \"TRINO_PASSWORD\": \"<PASSWORD>\"\n      }\n    }\n  }\n}\n```\n\nRestart Windsurf to apply the changes. The Trino MCP tools will be available to the Cascade AI.\n\n### ChatWise\n\nTo use with [ChatWise](https://chatwise.app?atp=uo1wzc), follow these steps:\n\n**Local MCP Server:**\n1. Open ChatWise and go to Settings\n2. Navigate to the Tools section\n3. Click the \"+\" icon to add a new tool\n4. Select \"Command Line MCP\"\n5. Configure with the following details:\n   - ID: `mcp-trino` (or any name you prefer)\n   - Command: `mcp-trino`\n   - Args: (leave empty)\n   - Env: Add the following environment variables:\n     ```\n     TRINO_HOST=<HOST>\n     TRINO_PORT=<PORT>\n     TRINO_USER=<USERNAME>\n     TRINO_PASSWORD=<PASSWORD>\n     ```\n\n**Remote MCP Server:**\nFor remote MCP servers with JWT authentication:\n\n1. Copy this JSON to your clipboard:\n   ```json\n   {\n     \"mcpServers\": {\n       \"remote-trino\": {\n         \"url\": \"https://your-mcp-server.com/mcp\",\n         \"headers\": {\n           \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n         }\n       }\n     }\n   }\n   ```\n2. In ChatWise Settings > Tools, click the \"+\" icon\n3. Select \"Import JSON from Clipboard\"\n4. Toggle the switch next to the tool to enable it\n\nAlternatively, you can import the local configuration from JSON:\n\n1. Copy this JSON to your clipboard:\n   ```json\n   {\n     \"mcpServers\": {\n       \"mcp-trino\": {\n         \"command\": \"mcp-trino\",\n         \"args\": [],\n         \"env\": {\n           \"TRINO_HOST\": \"<HOST>\",\n           \"TRINO_PORT\": \"<PORT>\",\n           \"TRINO_USER\": \"<USERNAME>\",\n           \"TRINO_PASSWORD\": \"<PASSWORD>\"\n         }\n       }\n     }\n   }\n   ```\n2. In ChatWise Settings > Tools, click the \"+\" icon\n3. Select \"Import JSON from Clipboard\"\n4. Toggle the switch next to the tool to enable it\n\nOnce enabled, click the hammer icon below the input box in ChatWise to access Trino MCP tools.\n\n## Available MCP Tools\n\nThe server provides the following MCP tools:\n\n### execute_query\n\nExecute a SQL query against Trino with full SQL support for complex analytical queries.\n\n**Sample Prompt:**\n> \"How many customers do we have per region? Can you show them in descending order?\"\n\n**Example:**\n```json\n{\n  \"query\": \"SELECT region, COUNT(*) as customer_count FROM tpch.tiny.customer GROUP BY region ORDER BY customer_count DESC\"\n}\n```\n\n**Response:**\n```json\n{\n  \"columns\": [\"region\", \"customer_count\"],\n  \"data\": [\n    [\"AFRICA\", 5],\n    [\"AMERICA\", 5],\n    [\"ASIA\", 5],\n    [\"EUROPE\", 5],\n    [\"MIDDLE EAST\", 5]\n  ]\n}\n```\n\n### list_catalogs\n\nList all catalogs available in the Trino server, providing a comprehensive view of your data ecosystem.\n\n**Sample Prompt:**\n> \"What databases do we have access to in our Trino environment?\"\n\n**Example:**\n```json\n{}\n```\n\n**Response:**\n```json\n{\n  \"catalogs\": [\"tpch\", \"memory\", \"system\", \"jmx\"]\n}\n```\n\n### list_schemas\n\nList all schemas in a catalog, helping you navigate through the data hierarchy efficiently.\n\n**Sample Prompt:**\n> \"What schemas or datasets are available in the tpch catalog?\"\n\n**Example:**\n```json\n{\n  \"catalog\": \"tpch\"\n}\n```\n\n**Response:**\n```json\n{\n  \"schemas\": [\"information_schema\", \"sf1\", \"sf100\", \"sf1000\", \"tiny\"]\n}\n```\n\n### list_tables\n\nList all tables in a schema, giving you visibility into available datasets.\n\n**Sample Prompt:**\n> \"What tables are available in the tpch tiny schema? I need to know what data we can query.\"\n\n**Example:**\n```json\n{\n  \"catalog\": \"tpch\",\n  \"schema\": \"tiny\"\n}\n```\n\n**Response:**\n```json\n{\n  \"tables\": [\"customer\", \"lineitem\", \"nation\", \"orders\", \"part\", \"partsupp\", \"region\", \"supplier\"]\n}\n```\n\n### get_table_schema\n\nGet the schema of a table, understanding the structure of your data for better query planning.\n\n**Sample Prompt:**\n> \"What columns are in the customer table? I need to know the data types and structure before writing my query.\"\n\n**Example:**\n```json\n{\n  \"catalog\": \"tpch\",\n  \"schema\": \"tiny\",\n  \"table\": \"customer\"\n}\n```\n\n**Response:**\n```json\n{\n  \"columns\": [\n    {\n      \"name\": \"custkey\",\n      \"type\": \"bigint\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"name\",\n      \"type\": \"varchar\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"address\",\n      \"type\": \"varchar\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"nationkey\",\n      \"type\": \"bigint\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"phone\",\n      \"type\": \"varchar\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"acctbal\",\n      \"type\": \"double\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"mktsegment\",\n      \"type\": \"varchar\",\n      \"nullable\": false\n    },\n    {\n      \"name\": \"comment\",\n      \"type\": \"varchar\",\n      \"nullable\": false\n    }\n  ]\n}\n```\n\n### explain_query\n\nAnalyze Trino query execution plans without running expensive queries, showing distributed execution stages and resource estimates.\n\n**Sample Prompt:**\n> \"Can you explain how this query will be executed? I want to understand the performance characteristics before running it on production data.\"\n\n**Example:**\n```json\n{\n  \"query\": \"SELECT region, COUNT(*) as customer_count FROM tpch.tiny.customer GROUP BY region ORDER BY customer_count DESC\",\n  \"format\": \"LOGICAL\"\n}\n```\n\n**Response:**\n```json\n{\n  \"execution_plan\": [\n    {\n      \"stage\": \"Fragment 0 [SINGLE]\",\n      \"operations\": [\n        \"Output[region, customer_count]\",\n        \"Sort[customer_count DESC NULLS LAST]\",\n        \"RemoteSource[sourceFragmentIds=[1]]\"\n      ]\n    },\n    {\n      \"stage\": \"Fragment 1 [HASH]\",\n      \"operations\": [\n        \"Aggregate[region, COUNT(*)]\",\n        \"TableScan[tpch:customer]\"\n      ],\n      \"estimated_rows\": 25,\n      \"estimated_cost\": \"cpu: 0.25, memory: 0.00, network: 0.05\"\n    }\n  ]\n}\n```\n\nThis information is invaluable for understanding the column names, data types, and nullability constraints before writing queries against the table.\n\n## End-to-End Example\n\nHere's a complete interaction example showing how an AI assistant might use these tools to answer a business question:\n\n**User Query:** \"Can you help me analyze our biggest customers? I want to know the top 5 customers with the highest account balances.\"\n\n**AI Assistant's workflow:**\n1. First, discover available catalogs\n   ```\n   > Using list_catalogs tool\n   > Discovers tpch catalog\n   ```\n\n2. Then, find available schemas\n   ```\n   > Using list_schemas tool with catalog \"tpch\"\n   > Discovers \"tiny\" schema\n   ```\n\n3. Explore available tables\n   ```\n   > Using list_tables tool with catalog \"tpch\" and schema \"tiny\"\n   > Finds \"customer\" table\n   ```\n\n4. Check the customer table schema\n   ```\n   > Using get_table_schema tool\n   > Discovers \"custkey\", \"name\", \"acctbal\" and other columns\n   ```\n\n5. Finally, execute the query\n   ```\n   > Using execute_query tool with:\n   > \"SELECT custkey, name, acctbal FROM tpch.tiny.customer ORDER BY acctbal DESC LIMIT 5\"\n   ```\n\n6. Returns the results to the user:\n   ```\n   The top 5 customers with highest account balances are:\n   1. Customer #65 (Customer#000000065): $9,222.78\n   2. Customer #13 (Customer#000000013): $8,270.47\n   3. Customer #89 (Customer#000000089): $7,990.56\n   4. Customer #11 (Customer#000000011): $7,912.91\n   5. Customer #82 (Customer#000000082): $7,629.41\n   ```\n\nThis seamless workflow demonstrates how the MCP tools enable AI assistants to explore and query data in a conversational manner.\n\n## Authentication and Transport\n\n### Transport Methods\n\nThe server supports two transport methods:\n\n#### STDIO Transport (Default)\n- Direct integration with MCP clients\n- Ideal for desktop applications like Claude Desktop\n- Uses standard input/output for communication\n\n#### HTTP Transport with StreamableHTTP\n- **Modern approach**: Uses the `/mcp` endpoint with StreamableHTTP protocol\n- **Legacy support**: Maintains `/sse` endpoint for backward compatibility with SSE\n- Supports web-based MCP clients\n- Enables JWT authentication for secure access\n\n### OAuth 2.0 Authentication\n\n✅ **Production-Ready**: Complete OAuth 2.0 implementation with OIDC provider support for secure remote deployments.\n\n**Supported Authentication Modes:**\n\n1. **OIDC Provider Mode** (Production - Recommended)\n   ```bash\n   # Configure with OAuth provider (Okta example)\n   export TRINO_OAUTH_ENABLED=true\n   export OAUTH_PROVIDER=okta\n   export OIDC_ISSUER=https://your-domain.okta.com\n   export OIDC_AUDIENCE=https://your-domain.okta.com\n   export MCP_TRANSPORT=http\n   mcp-trino\n   ```\n\n2. **HMAC Mode** (Development/Testing)\n   ```bash\n   # Simple JWT with shared secret\n   export TRINO_OAUTH_ENABLED=true\n   export OAUTH_PROVIDER=hmac\n   export JWT_SECRET=your-secret-key-here\n   export MCP_TRANSPORT=http\n   mcp-trino\n   ```\n\n**Key Features:**\n- **Multiple Providers**: Okta, Google, Azure AD, and custom OIDC providers\n- **JWKS Validation**: Automatic key rotation and signature verification\n- **Token Caching**: Performance optimization with 5-minute cache expiration\n- **MCP Compliance**: Full OAuth 2.1 and MCP authorization specification support\n\nClient requests must include the JWT token in the Authorization header:\n```http\nAuthorization: Bearer <your-jwt-token>\n```\n\nFor detailed OAuth configuration and deployment examples, see [docs/oauth.md](docs/oauth.md).\n\n### HTTPS Support\n\nFor production deployments with authentication, HTTPS is strongly recommended:\n\n```bash\nexport HTTPS_CERT_FILE=/path/to/certificate.pem\nexport HTTPS_KEY_FILE=/path/to/private-key.pem\nexport TRINO_OAUTH_ENABLED=true\nexport MCP_TRANSPORT=http\nmcp-trino\n```\n\nThe server will automatically start with HTTPS when certificate files are provided.\n\n## Remote MCP Server Deployment\n\nSince the server supports JWT authentication and HTTP transport, you can deploy it as a remote MCP server accessible to multiple clients over the network.\n\n> **Important**: When deploying a remote MCP server (behind a load balancer, reverse proxy, or with a public domain), you must set `MCP_URL` to the public base URL of your MCP server (including scheme and port if non-standard). This value is used in OAuth metadata and printed endpoints so clients discover the correct URLs.\n\n### Production Deployment Example\n\n```bash\n# Deploy with HTTPS and JWT authentication\nexport MCP_TRANSPORT=http\nexport MCP_PORT=443\nexport MCP_URL=https://your-mcp-server.com\nexport TRINO_OAUTH_ENABLED=true\nexport HTTPS_CERT_FILE=/etc/ssl/certs/mcp-trino.pem\nexport HTTPS_KEY_FILE=/etc/ssl/private/mcp-trino.key\nexport TRINO_HOST=your-trino-cluster.com\nexport TRINO_PORT=443\nexport TRINO_USER=service-account\nexport TRINO_PASSWORD=service-password\n\n# Start the server\nmcp-trino\n```\n\n### Client Configuration for Remote Server\n\n**With JWT Authentication:**\n```json\n{\n  \"mcpServers\": {\n    \"remote-trino\": {\n      \"url\": \"https://your-mcp-server.com/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n      }\n    }\n  }\n}\n```\n\n**Load Balancer/Proxy Configuration:**\n```nginx\nserver {\n    listen 443 ssl;\n    server_name your-mcp-server.com;\n    \n    ssl_certificate /etc/ssl/certs/mcp-trino.pem;\n    ssl_certificate_key /etc/ssl/private/mcp-trino.key;\n    \n    location /mcp {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Authorization $http_authorization;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n}\n```\n\n### Docker Deployment\n\nFor containerized deployment:\n\n```dockerfile\nFROM ghcr.io/tuannvm/mcp-trino:latest\n\nENV MCP_TRANSPORT=http\nENV MCP_PORT=8080\nENV TRINO_OAUTH_ENABLED=true\nENV TRINO_HOST=your-trino-cluster.com\nENV TRINO_PORT=443\nENV TRINO_USER=service-account\nENV TRINO_PASSWORD=service-password\n\nEXPOSE 8080\n\nCMD [\"mcp-trino\"]\n```\n\n```bash\n# Build and run with Docker\ndocker build -t mcp-trino-server .\ndocker run -d -p 8080:8080 \\\n  -e HTTPS_CERT_FILE=/certs/cert.pem \\\n  -e HTTPS_KEY_FILE=/certs/key.pem \\\n  -v /path/to/certs:/certs \\\n  mcp-trino-server\n```\n\n### Security Considerations\n\n- **JWT Token Management**: Implement proper token rotation and validation\n- **Network Security**: Use HTTPS in production and consider network-level security\n- **Access Control**: Implement proper authentication and authorization mechanisms\n- **Monitoring**: Set up logging and monitoring for security events\n- **Token Security**: \n  - Never commit JWT secrets to version control\n  - Use strong, randomly generated secrets (minimum 256 bits)\n  - Implement short token expiration times with refresh mechanisms\n  - Store tokens securely in client applications\n- **Production Recommendations**:\n  - Use asymmetric algorithms (RS256, ES256) instead of HS256\n  - Implement proper issuer (`iss`) and audience (`aud`) validation\n  - Use established OAuth 2.1/OpenID Connect providers\n  - Implement token revocation mechanisms\n\n### Quick Start with OAuth\n\n**For Production (OIDC):**\n```bash\n# Configure OAuth provider\nexport TRINO_OAUTH_ENABLED=true\nexport OAUTH_PROVIDER=okta\nexport OIDC_ISSUER=https://your-domain.okta.com\nexport OIDC_AUDIENCE=https://your-domain.okta.com\nexport MCP_TRANSPORT=http\n\n# Start server\nmcp-trino\n```\n\n**For Development (HMAC):**\n```bash\n# Simple JWT testing\nexport TRINO_OAUTH_ENABLED=true\nexport OAUTH_PROVIDER=hmac\nexport JWT_SECRET=\"your-test-secret\"\nexport MCP_TRANSPORT=http\n\n# Start server\nmcp-trino\n```\n\n**Client Configuration:**\n```json\n{\n  \"mcpServers\": {\n    \"trino-oauth\": {\n      \"url\": \"https://your-mcp-server.com/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n      }\n    }\n  }\n}\n```\n\n## Configuration\n\nThe server can be configured using the following environment variables:\n\n| Variable               | Description                       | Default   |\n| ---------------------- | --------------------------------- | --------- |\n| TRINO_HOST             | Trino server hostname             | localhost |\n| TRINO_PORT             | Trino server port                 | 8080      |\n| TRINO_USER             | Trino user                        | trino     |\n| TRINO_PASSWORD         | Trino password                    | (empty)   |\n| TRINO_CATALOG          | Default catalog                   | memory    |\n| TRINO_SCHEMA           | Default schema                    | default   |\n| TRINO_SCHEME           | Connection scheme (http/https)    | https     |\n| TRINO_SSL              | Enable SSL                        | true      |\n| TRINO_SSL_INSECURE     | Allow insecure SSL                | true      |\n| TRINO_ALLOW_WRITE_QUERIES | Allow non-read-only SQL queries | false     |\n| TRINO_QUERY_TIMEOUT    | Query timeout in seconds          | 30        |\n| MCP_TRANSPORT          | Transport method (stdio/http)     | stdio     |\n| MCP_PORT               | HTTP port for http transport      | 8080      |\n| MCP_HOST               | Host for HTTP callbacks           | localhost |\n| MCP_URL                | Public base URL of MCP server (used for OAuth metadata and client discovery); required for remote deployments | http://localhost:8080 |\n| TRINO_OAUTH_ENABLED    | Enable OAuth authentication       | false     |\n| OAUTH_PROVIDER         | OAuth provider (hmac/okta/google/azure) | hmac   |\n| JWT_SECRET             | JWT secret for HMAC mode          | (empty)   |\n| OIDC_ISSUER            | OIDC provider issuer URL          | (empty)   |\n| OIDC_AUDIENCE          | OIDC audience identifier           | (empty)   |\n| OIDC_CLIENT_ID         | OIDC client ID                     | (empty)   |\n| HTTPS_CERT_FILE        | Path to HTTPS certificate file    | (empty)   |\n| HTTPS_KEY_FILE         | Path to HTTPS private key file    | (empty)   |\n\n> **Note**: When `TRINO_SCHEME` is set to \"https\", `TRINO_SSL` is automatically set to true regardless of the provided value.\n\n> **Important**: The default connection mode is HTTPS. If you're using an HTTP-only Trino server, you must set `TRINO_SCHEME=http` in your environment variables.\n\n> **Security Note**: By default, only read-only queries (SELECT, SHOW, DESCRIBE, EXPLAIN) are allowed to prevent SQL injection. If you need to execute write operations or other non-read queries, set `TRINO_ALLOW_WRITE_QUERIES=true`, but be aware this bypasses this security protection.\n\n> **For Web Client Integration**: When using with web clients, set `MCP_TRANSPORT=http` and connect to the `/mcp` endpoint for StreamableHTTP support. The `/sse` endpoint is maintained for backward compatibility.\n\n> **OAuth Authentication**: When `TRINO_OAUTH_ENABLED=true`, the server supports multiple OAuth providers including OIDC-compliant providers (Okta, Google, Azure AD) for production use and HMAC mode for development/testing.\n\n> **HTTPS Support**: For production deployments, configure HTTPS by setting `HTTPS_CERT_FILE` and `HTTPS_KEY_FILE` environment variables. This is strongly recommended when using JWT authentication.\n\n## Contributing\n\nContributions are welcome! Please feel free to submit a Pull Request.\n\n## License\n\nThis project is licensed under the MIT License - see the LICENSE file for details.\n\n## CI/CD and Releases\n\nThis project uses GitHub Actions for continuous integration and GoReleaser for automated releases.\n\n### Continuous Integration Checks\n\nOur CI pipeline performs the following checks on all PRs and commits to the main branch:\n\n#### Code Quality\n- **Linting**: Using golangci-lint to check for common code issues and style violations\n- **Go Module Verification**: Ensuring go.mod and go.sum are properly maintained\n- **Formatting**: Verifying code is properly formatted with gofmt\n\n#### Security\n- **Vulnerability Scanning**: Using govulncheck to check for known vulnerabilities in dependencies\n- **Dependency Scanning**: Using Trivy to scan for vulnerabilities in dependencies (CRITICAL, HIGH, and MEDIUM)\n- **SBOM Generation**: Creating a Software Bill of Materials for dependency tracking\n- **SLSA Provenance**: Creating verifiable build provenance for supply chain security\n\n#### Testing\n- **Unit Tests**: Running tests with race detection and code coverage reporting\n- **Build Verification**: Ensuring the codebase builds successfully\n\n#### CI/CD Security\n- **Least Privilege**: Workflows run with minimum required permissions\n- **Pinned Versions**: All GitHub Actions use specific versions to prevent supply chain attacks\n- **Dependency Updates**: Automated dependency updates via Dependabot\n\n### Release Process\n\nWhen changes are merged to the main branch:\n\n1. CI checks are run to validate code quality and security\n2. If successful, a new release is automatically created with:\n   - Semantic versioning based on commit messages\n   - Binary builds for multiple platforms\n   - Docker image publishing to GitHub Container Registry\n   - SBOM and provenance attestation\n",
  "category": "AI Tools",
  "quality_score": 60,
  "archestra_config": {
    "client_config_permutations": {
      "mcp-trino-docker": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "-e",
          "TRINO_HOST=<HOST>",
          "-e",
          "TRINO_PORT=<PORT>",
          "-e",
          "TRINO_USER=<USERNAME>",
          "-e",
          "TRINO_PASSWORD=<PASSWORD>",
          "-e",
          "TRINO_SCHEME=http",
          "ghcr.io/tuannvm/mcp-trino:latest"
        ],
        "env": {
          "TRINO_HOST": "<HOST>",
          "TRINO_PORT": "<PORT>",
          "TRINO_USER": "<USERNAME>",
          "TRINO_PASSWORD": "<PASSWORD>",
          "TRINO_SCHEME": "http"
        }
      }
    },
    "oauth": {
      "provider": "google",
      "required": true
    },
    "works_in_archestra": false
  },
  "github_info": {
    "owner": "tuannvm",
    "repo": "mcp-trino",
    "url": "https://github.com/tuannvm/mcp-trino",
    "name": "tuannvm__mcp-trino",
    "path": null,
    "stars": 59,
    "contributors": 10,
    "issues": 0,
    "releases": true,
    "ci_cd": true,
    "latest_commit_hash": "5700b0d588f7393eae7c8f010de73182157c0608"
  },
  "programming_language": "Go",
  "framework": null,
  "last_scraped_at": "2025-09-09T13:05:32.611Z",
  "evaluation_model": "gemini-2.5-flash",
  "protocol_features": {
    "implementing_tools": true,
    "implementing_prompts": false,
    "implementing_resources": false,
    "implementing_sampling": false,
    "implementing_roots": false,
    "implementing_logging": false,
    "implementing_stdio": true,
    "implementing_streamable_http": true,
    "implementing_oauth2": true
  },
  "dependencies": [
    {
      "name": "coreos/go-oidc/v3",
      "importance": 8
    },
    {
      "name": "golang-jwt/jwt/v5",
      "importance": 7
    },
    {
      "name": "mark3labs/mcp-go",
      "importance": 10
    },
    {
      "name": "trinodb/trino-go-client",
      "importance": 9
    },
    {
      "name": "golang.org/x/oauth2",
      "importance": 7
    }
  ],
  "raw_dependencies": "=== go.mod ===\nmodule github.com/tuannvm/mcp-trino\n\ngo 1.24.6\n\nrequire (\n\tgithub.com/coreos/go-oidc/v3 v3.15.0\n\tgithub.com/golang-jwt/jwt/v5 v5.3.0\n\tgithub.com/mark3labs/mcp-go v0.38.0\n\tgithub.com/trinodb/trino-go-client v0.328.0\n\tgolang.org/x/oauth2 v0.30.0\n)\n\nrequire (\n\tgithub.com/bahlo/generic-list-go v0.2.0 // indirect\n\tgithub.com/buger/jsonparser v1.1.1 // indirect\n\tgithub.com/go-jose/go-jose/v4 v4.0.5 // indirect\n\tgithub.com/google/uuid v1.6.0 // indirect\n\tgithub.com/hashicorp/go-uuid v1.0.3 // indirect\n\tgithub.com/invopop/jsonschema v0.13.0 // indirect\n\tgithub.com/jcmturner/aescts/v2 v2.0.0 // indirect\n\tgithub.com/jcmturner/dnsutils/v2 v2.0.0 // indirect\n\tgithub.com/jcmturner/gofork v1.7.6 // indirect\n\tgithub.com/jcmturner/goidentity/v6 v6.0.1 // indirect\n\tgithub.com/jcmturner/gokrb5/v8 v8.4.4 // indirect\n\tgithub.com/jcmturner/rpc/v2 v2.0.3 // indirect\n\tgithub.com/klauspost/compress v1.18.0 // indirect\n\tgithub.com/mailru/easyjson v0.7.7 // indirect\n\tgithub.com/pierrec/lz4 v2.6.1+incompatible // indirect\n\tgithub.com/spf13/cast v1.8.0 // indirect\n\tgithub.com/wk8/go-ordered-map/v2 v2.1.8 // indirect\n\tgithub.com/yosida95/uritemplate/v3 v3.0.2 // indirect\n\tgolang.org/x/crypto v0.37.0 // indirect\n\tgolang.org/x/net v0.39.0 // indirect\n\tgopkg.in/yaml.v3 v3.0.1 // indirect\n)\n"
}
