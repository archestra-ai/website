{
  "openapi": "3.0.0",
  "info": {
    "title": "MCP Catalog API",
    "version": "1.0.0",
    "description": "API for searching and retrieving MCP server information"
  },
  "servers": [
    {
      "url": "/mcp-catalog/api",
      "description": "MCP Catalog API"
    }
  ],
  "components": {
    "schemas": {
      "ArchestraMcpServerManifest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "long_description": {
            "type": "string"
          },
          "author": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "url": {
                "type": "string",
                "format": "uri"
              }
            },
            "required": ["name"],
            "additionalProperties": false
          },
          "homepage": {
            "type": "string",
            "format": "uri"
          },
          "documentation": {
            "type": "string",
            "format": "uri"
          },
          "support": {
            "type": "string",
            "format": "uri"
          },
          "icon": {
            "type": "string"
          },
          "screenshots": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "server": {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "command": {
                    "type": "string"
                  },
                  "args": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "env": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": ["local"]
                  },
                  "setup": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": ["log-monitor"]
                        },
                        "provider": {
                          "type": "string",
                          "enum": ["whatsapp"]
                        }
                      },
                      "required": ["type", "provider"]
                    }
                  },
                  "docker_image": {
                    "type": "string"
                  }
                },
                "required": ["command", "type"],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["remote"]
                  },
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "docs_url": {
                    "type": "string",
                    "nullable": true,
                    "format": "uri"
                  }
                },
                "required": ["type", "url", "docs_url"]
              }
            ]
          },
          "tools": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                }
              },
              "required": ["name"],
              "additionalProperties": false
            }
          },
          "tools_generated": {
            "type": "boolean"
          },
          "prompts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "arguments": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "text": {
                  "type": "string"
                }
              },
              "required": ["name", "text"],
              "additionalProperties": false
            }
          },
          "prompts_generated": {
            "type": "boolean"
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "license": {
            "type": "string"
          },
          "compatibility": {
            "type": "object",
            "properties": {
              "claude_desktop": {
                "type": "string"
              },
              "platforms": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["darwin", "win32", "linux"]
                }
              },
              "runtimes": {
                "type": "object",
                "properties": {
                  "python": {
                    "type": "string"
                  },
                  "node": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "user_config": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["string", "number", "boolean", "directory", "file"]
                },
                "title": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "required": {
                  "type": "boolean"
                },
                "default": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  ]
                },
                "multiple": {
                  "type": "boolean"
                },
                "sensitive": {
                  "type": "boolean"
                },
                "min": {
                  "type": "number"
                },
                "max": {
                  "type": "number"
                }
              },
              "required": ["type", "title", "description"],
              "additionalProperties": false
            }
          },
          "readme": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "type": "string",
            "nullable": true,
            "enum": [
              "Aggregators",
              "Art & Culture",
              "Healthcare",
              "Browser Automation",
              "Cloud",
              "Development",
              "CLI Tools",
              "Communication",
              "Data",
              "Logistics",
              "Data Science",
              "IoT",
              "File Management",
              "Finance",
              "Gaming",
              "Knowledge",
              "Location",
              "Marketing",
              "Monitoring",
              "Media",
              "AI Tools",
              "Search",
              "Security",
              "Social Media",
              "Sports",
              "Support",
              "Translation",
              "Audio",
              "Travel",
              "Messengers",
              "Email",
              "CRM",
              "Enterprise",
              "Job Search",
              "Local files",
              "General"
            ]
          },
          "quality_score": {
            "type": "number",
            "nullable": true,
            "minimum": 0,
            "maximum": 100
          },
          "archestra_config": {
            "type": "object",
            "properties": {
              "client_config_permutations": {
                "type": "object",
                "nullable": true,
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "command": {
                      "type": "string"
                    },
                    "args": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "env": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "docker_image": {
                      "type": "string"
                    }
                  },
                  "required": ["command"],
                  "additionalProperties": false
                }
              },
              "oauth": {
                "type": "object",
                "properties": {
                  "provider": {
                    "type": "string",
                    "nullable": true,
                    "enum": ["google", "slack", "linkedin"]
                  },
                  "required": {
                    "type": "boolean"
                  }
                },
                "required": ["provider", "required"]
              },
              "browser_based": {
                "type": "object",
                "properties": {
                  "required": {
                    "type": "boolean"
                  }
                },
                "required": ["required"]
              },
              "works_in_archestra": {
                "type": "boolean"
              }
            },
            "required": ["client_config_permutations", "oauth", "works_in_archestra"]
          },
          "github_info": {
            "type": "object",
            "nullable": true,
            "properties": {
              "owner": {
                "type": "string"
              },
              "repo": {
                "type": "string"
              },
              "url": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "path": {
                "type": "string",
                "nullable": true
              },
              "stars": {
                "type": "number"
              },
              "contributors": {
                "type": "number"
              },
              "issues": {
                "type": "number"
              },
              "releases": {
                "type": "boolean"
              },
              "ci_cd": {
                "type": "boolean"
              },
              "latest_commit_hash": {
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "owner",
              "repo",
              "url",
              "name",
              "path",
              "stars",
              "contributors",
              "issues",
              "releases",
              "ci_cd",
              "latest_commit_hash"
            ]
          },
          "programming_language": {
            "type": "string",
            "nullable": true
          },
          "framework": {
            "type": "string",
            "nullable": true
          },
          "last_scraped_at": {
            "type": "string",
            "nullable": true
          },
          "evaluation_model": {
            "type": "string",
            "nullable": true
          },
          "protocol_features": {
            "type": "object",
            "properties": {
              "implementing_tools": {
                "type": "boolean"
              },
              "implementing_prompts": {
                "type": "boolean"
              },
              "implementing_resources": {
                "type": "boolean"
              },
              "implementing_sampling": {
                "type": "boolean"
              },
              "implementing_roots": {
                "type": "boolean"
              },
              "implementing_logging": {
                "type": "boolean"
              },
              "implementing_stdio": {
                "type": "boolean"
              },
              "implementing_streamable_http": {
                "type": "boolean"
              },
              "implementing_oauth2": {
                "type": "boolean"
              }
            },
            "required": [
              "implementing_tools",
              "implementing_prompts",
              "implementing_resources",
              "implementing_sampling",
              "implementing_roots",
              "implementing_logging",
              "implementing_stdio",
              "implementing_streamable_http",
              "implementing_oauth2"
            ]
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "importance": {
                  "type": "number",
                  "minimum": 1,
                  "maximum": 10
                }
              },
              "required": ["name", "importance"]
            }
          },
          "raw_dependencies": {
            "type": "string",
            "nullable": true
          },
          "oauth_config": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "server_url": {
                "type": "string",
                "format": "uri"
              },
              "auth_server_url": {
                "type": "string",
                "format": "uri"
              },
              "resource_metadata_url": {
                "type": "string",
                "format": "uri"
              },
              "client_id": {
                "type": "string"
              },
              "client_secret": {
                "type": "string"
              },
              "redirect_uris": {
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "scopes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "description": {
                "type": "string"
              },
              "well_known_url": {
                "type": "string",
                "format": "uri"
              },
              "default_scopes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "supports_resource_metadata": {
                "type": "boolean"
              },
              "generic_oauth": {
                "type": "boolean"
              },
              "token_endpoint": {
                "type": "string",
                "format": "uri"
              },
              "access_token_env_var": {
                "type": "string"
              },
              "requires_proxy": {
                "type": "boolean"
              },
              "provider_name": {
                "type": "string"
              },
              "browser_auth": {
                "type": "boolean"
              },
              "streamable_http_url": {
                "type": "string",
                "format": "uri"
              },
              "streamable_http_port": {
                "type": "number"
              }
            },
            "required": [
              "name",
              "server_url",
              "client_id",
              "redirect_uris",
              "scopes",
              "default_scopes",
              "supports_resource_metadata"
            ]
          }
        },
        "required": [
          "name",
          "display_name",
          "description",
          "author",
          "server",
          "readme",
          "category",
          "quality_score",
          "github_info",
          "programming_language",
          "framework",
          "last_scraped_at",
          "evaluation_model",
          "raw_dependencies"
        ],
        "additionalProperties": false
      },
      "ArchestraMcpServerManifestWithScoreBreakdown": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ArchestraMcpServerManifest"
          },
          {
            "type": "object",
            "properties": {
              "score_breakdown": {
                "type": "object",
                "properties": {
                  "mcp_protocol": {
                    "type": "number"
                  },
                  "github_metrics": {
                    "type": "number"
                  },
                  "deployment_maturity": {
                    "type": "number"
                  },
                  "documentation": {
                    "type": "number"
                  },
                  "dependencies": {
                    "type": "number"
                  },
                  "badge_usage": {
                    "type": "number"
                  },
                  "total": {
                    "type": "number"
                  }
                },
                "required": [
                  "mcp_protocol",
                  "github_metrics",
                  "deployment_maturity",
                  "documentation",
                  "dependencies",
                  "badge_usage",
                  "total"
                ]
              }
            },
            "required": ["score_breakdown"],
            "additionalProperties": false
          }
        ]
      }
    },
    "parameters": {}
  },
  "paths": {
    "/search": {
      "get": {
        "operationId": "searchMcpServerCatalog",
        "summary": "Search MCP servers",
        "description": "Search for MCP servers with filtering and sorting options",
        "tags": ["Search"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Search query to filter by name, description, or repository"
            },
            "required": false,
            "description": "Search query to filter by name, description, or repository",
            "name": "q",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "Aggregators",
                "Art & Culture",
                "Healthcare",
                "Browser Automation",
                "Cloud",
                "Development",
                "CLI Tools",
                "Communication",
                "Data",
                "Logistics",
                "Data Science",
                "IoT",
                "File Management",
                "Finance",
                "Gaming",
                "Knowledge",
                "Location",
                "Marketing",
                "Monitoring",
                "Media",
                "AI Tools",
                "Search",
                "Security",
                "Social Media",
                "Sports",
                "Support",
                "Translation",
                "Audio",
                "Travel",
                "Messengers",
                "Email",
                "CRM",
                "Enterprise",
                "Job Search",
                "Local files",
                "General"
              ],
              "description": "Filter by category"
            },
            "required": false,
            "description": "Filter by category",
            "name": "category",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "description": "Filter by programming language"
            },
            "required": false,
            "description": "Filter by programming language",
            "name": "language",
            "in": "query"
          },
          {
            "schema": {
              "type": "boolean",
              "description": "Filter by whether the server is confirmed to work in the Archestra Desktop app"
            },
            "required": false,
            "description": "Filter by whether the server is confirmed to work in the Archestra Desktop app",
            "name": "worksInArchestra",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": ["quality", "stars", "name"],
              "description": "Sort results by field"
            },
            "required": false,
            "description": "Sort results by field",
            "name": "sortBy",
            "in": "query"
          },
          {
            "schema": {
              "type": "integer",
              "minimum": 0,
              "exclusiveMinimum": true,
              "maximum": 100,
              "default": 20,
              "description": "Number of results to return"
            },
            "required": false,
            "description": "Number of results to return",
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "integer",
              "nullable": true,
              "minimum": 0,
              "default": 0,
              "description": "Number of results to skip"
            },
            "required": false,
            "description": "Number of results to skip",
            "name": "offset",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "servers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ArchestraMcpServerManifest"
                      }
                    },
                    "totalCount": {
                      "type": "integer"
                    },
                    "limit": {
                      "type": "integer"
                    },
                    "offset": {
                      "type": "integer"
                    },
                    "hasMore": {
                      "type": "boolean"
                    }
                  },
                  "required": ["servers", "totalCount", "limit", "offset", "hasMore"]
                }
              }
            }
          }
        }
      }
    },
    "/server/{name}": {
      "get": {
        "operationId": "getMcpServer",
        "summary": "Get MCP server by name",
        "description": "Retrieve detailed information about a specific MCP server by its name identifier",
        "tags": ["Server"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Server name identifier (format - org__repo or org__repo__path)"
            },
            "required": true,
            "description": "Server name identifier (format - org__repo or org__repo__path)",
            "name": "name",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArchestraMcpServerManifestWithScoreBreakdown"
                }
              }
            }
          },
          "404": {
            "description": "Server not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/badge/quality/{org}/{repo}": {
      "get": {
        "operationId": "getMcpServerQualityBadge",
        "summary": "Get quality badge",
        "description": "Get an SVG quality badge for an MCP server",
        "tags": ["Badges"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "GitHub organization"
            },
            "required": true,
            "description": "GitHub organization",
            "name": "org",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "GitHub repository name"
            },
            "required": true,
            "description": "GitHub repository name",
            "name": "repo",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "SVG badge image",
            "content": {
              "image/svg+xml": {
                "schema": {
                  "type": "string",
                  "description": "SVG image content"
                }
              }
            }
          },
          "404": {
            "description": "Server not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/category": {
      "get": {
        "operationId": "getMcpServerCategories",
        "summary": "Get available categories",
        "description": "Get a list of all available MCP server categories",
        "tags": ["Categories"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "categories": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "Aggregators",
                          "Art & Culture",
                          "Healthcare",
                          "Browser Automation",
                          "Cloud",
                          "Development",
                          "CLI Tools",
                          "Communication",
                          "Data",
                          "Logistics",
                          "Data Science",
                          "IoT",
                          "File Management",
                          "Finance",
                          "Gaming",
                          "Knowledge",
                          "Location",
                          "Marketing",
                          "Monitoring",
                          "Media",
                          "AI Tools",
                          "Search",
                          "Security",
                          "Social Media",
                          "Sports",
                          "Support",
                          "Translation",
                          "Audio",
                          "Travel",
                          "Messengers",
                          "Email",
                          "CRM",
                          "Enterprise",
                          "Job Search",
                          "Local files",
                          "General"
                        ]
                      }
                    }
                  },
                  "required": ["categories"]
                }
              }
            }
          }
        }
      }
    }
  }
}
