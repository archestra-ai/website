{
  "dxt_version": "0.1.0",
  "name": "furey__mongodb-lens",
  "display_name": "mongodb-lens",
  "version": "1.0.0",
  "description": "üçÉüîé MongoDB Lens: Full Featured MCP Server for MongoDB Databases",
  "author": {
    "name": "furey"
  },
  "server": {
    "type": "node",
    "entry_point": "index.js",
    "mcp_config": {
      "command": "unknown",
      "args": [],
      "env": {}
    }
  },
  "tools": [],
  "prompts": [],
  "keywords": [],
  "user_config": {},
  "readme": "# MongoDB Lens\n\n[![License](https://img.shields.io/github/license/furey/mongodb-lens)](./LICENSE)\n[![Docker Hub Version](https://img.shields.io/docker/v/furey/mongodb-lens)](https://hub.docker.com/r/furey/mongodb-lens)\n[![NPM Version](https://img.shields.io/npm/v/mongodb-lens)](https://www.npmjs.com/package/mongodb-lens)\n[![Buy Me a Coffee](https://img.shields.io/badge/Buy%20Me%20a%20Coffee-donate-orange.svg)](https://www.buymeacoffee.com/furey)\n\n**MongoDB Lens** is a local Model Context Protocol (MCP) server with full featured access to MongoDB databases using natural language via LLMs to perform queries, run aggregations, optimize performance, and more.\n\n## Contents\n\n- [Quick Start](#quick-start)\n- [Features](#features)\n- [Installation](#installation)\n- [Configuration](#configuration)\n- [Client Setup](#client-setup)\n- [Data Protection](#data-protection)\n- [Tutorial](#tutorial)\n- [Test Suite](#test-suite)\n- [Disclaimer](#disclaimer)\n- [Support](#support)\n\n## Quick Start\n\n- [Install](#installation) MongoDB Lens\n- [Configure](#configuration) MongoDB Lens\n- [Set up](#client-setup) your MCP Client (e.g. [Claude Desktop](#client-setup-claude-desktop), [Cursor](https://docs.cursor.com/context/model-context-protocol#configuring-mcp-servers), etc)\n- Explore your MongoDB databases with [natural language queries](#tutorial-4-example-queries)\n\n## Features\n\n- [Tools](#tools)\n- [Resources](#resources)\n- [Prompts](#prompts)\n- [Other](#other-features)\n\n### Tools\n\n- [`add-connection-alias`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27add-connection-alias%27%2C%2F): Add a new MongoDB connection alias\n- [`aggregate-data`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27aggregate-data%27%2C%2F): Execute aggregation pipelines\n- [`analyze-query-patterns`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27analyze-query-patterns%27%2C%2F): Analyze live queries and suggest optimizations\n- [`analyze-schema`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27analyze-schema%27%2C%2F): Automatically infer collection schemas\n- [`bulk-operations`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27bulk-operations%27%2C%2F): Perform multiple operations efficiently ([requires confirmation](#data-protection-confirmation-for-destructive-operations) for destructive operations)\n- [`clear-cache`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27clear-cache%27%2C%2F): Clear memory caches to ensure fresh data\n- [`collation-query`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27collation-query%27%2C%2F): Find documents with language-specific collation rules\n- [`compare-schemas`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27compare-schemas%27%2C%2F): Compare schemas between two collections\n- [`connect-mongodb`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27connect-mongodb%27%2C%2F): Connect to a different MongoDB URI\n- [`connect-original`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27connect-original%27%2C%2F): Connect back to the original MongoDB URI used at startup\n- [`count-documents`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27count-documents%27%2C%2F): Count documents matching specified criteria\n- [`create-collection`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27create-collection%27%2C%2F): Create new collections with custom options\n- [`create-database`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27create-database%27%2C%2F): Create a new database with option to switch to it\n- [`create-index`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27create-index%27%2C%2F): Create new indexes for performance optimization\n- [`create-timeseries`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27create-timeseries%27%2C%2F): Create time series collections for temporal data\n- [`create-user`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27create-user%27%2C%2F): Create new database users with specific roles\n- [`current-database`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27current-database%27%2C%2F): Show the current database context\n- [`delete-document`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27delete-document%27%2C%2F): Delete documents matching specified criteria ([requires confirmation](#data-protection-confirmation-for-destructive-operations))\n- [`distinct-values`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27distinct-values%27%2C%2F): Extract unique values for any field\n- [`drop-collection`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27drop-collection%27%2C%2F): Remove collections from the database ([requires confirmation](#data-protection-confirmation-for-destructive-operations))\n- [`drop-database`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27drop-database%27%2C%2F): Drop a database ([requires confirmation](#data-protection-confirmation-for-destructive-operations))\n- [`drop-index`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27drop-index%27%2C%2F): Remove indexes from collections ([requires confirmation](#data-protection-confirmation-for-destructive-operations))\n- [`drop-user`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27drop-user%27%2C%2F): Remove database users ([requires confirmation](#data-protection-confirmation-for-destructive-operations))\n- [`explain-query`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27explain-query%27%2C%2F): Analyze query execution plans\n- [`export-data`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27export-data%27%2C%2F): Export query results in JSON or CSV format\n- [`find-documents`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27find-documents%27%2C%2F): Run queries with filters, projections, and sorting\n- [`generate-schema-validator`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27generate-schema-validator%27%2C%2F): Generate JSON Schema validators\n- [`geo-query`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27geo-query%27%2C%2F): Perform geospatial queries with various operators\n- [`get-stats`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27get-stats%27%2C%2F): Retrieve database or collection statistics\n- [`gridfs-operation`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27gridfs-operation%27%2C%2F): Manage large files with GridFS buckets\n- [`insert-document`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27insert-document%27%2C%2F): Insert one or more documents into collections\n- [`list-collections`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27list-collections%27%2C%2F): Explore collections in the current database\n- [`list-connections`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27list-connections%27%2C%2F): View all available MongoDB connection aliases\n- [`list-databases`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27list-databases%27%2C%2F): View all accessible databases\n- [`rename-collection`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27rename-collection%27%2C%2F): Rename existing collections ([requires confirmation](#data-protection-confirmation-for-destructive-operations) when dropping targets)\n- [`shard-status`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27shard-status%27%2C%2F): View sharding configuration for databases and collections\n- [`text-search`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27text-search%27%2C%2F): Perform full-text search across text-indexed fields\n- [`transaction`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27transaction%27%2C%2F): Execute multiple operations in a single ACID transaction\n- [`update-document`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27update-document%27%2C%2F): Update documents matching specified criteria\n- [`use-database`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27use-database%27%2C%2F): Switch to a specific database context\n- [`validate-collection`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27validate-collection%27%2C%2F): Check for data inconsistencies\n- [`watch-changes`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.tool%5C%28%5Cs*%27watch-changes%27%2C%2F): Monitor real-time changes to collections\n\n### Resources\n\n- [`collection-indexes`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27collection-indexes%27%2C%2F): Index information for a collection\n- [`collection-schema`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27collection-schema%27%2C%2F): Schema information for a collection\n- [`collection-stats`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27collection-stats%27%2C%2F): Performance statistics for a collection\n- [`collection-validation`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27collection-validation%27%2C%2F): Validation rules for a collection\n- [`collections`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27collections%27%2C%2F): List of collections in the current database\n- [`database-triggers`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27database-triggers%27%2C%2F): Database change streams and event triggers configuration\n- [`database-users`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27database-users%27%2C%2F): Database users and roles in the current database\n- [`databases`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27databases%27%2C%2F): List of all accessible databases\n- [`performance-metrics`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27performance-metrics%27%2C%2F): Real-time performance metrics and profiling data\n- [`replica-status`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27replica-status%27%2C%2F): Replica set status and configuration\n- [`server-status`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27server-status%27%2C%2F): Server status information\n- [`stored-functions`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.resource%5C%28%5Cs*%27stored-functions%27%2C%2F): Stored JavaScript functions in the current database\n\n### Prompts\n\n- [`aggregation-builder`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27aggregation-builder%27%2C%2F): Step-by-step creation of aggregation pipelines\n- [`backup-strategy`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27backup-strategy%27%2C%2F): Customized backup and recovery recommendations\n- [`data-modeling`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27data-modeling%27%2C%2F): Expert advice on MongoDB schema design for specific use cases\n- [`database-health-check`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27database-health-check%27%2C%2F): Comprehensive database health assessment and recommendations\n- [`index-recommendation`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27index-recommendation%27%2C%2F): Get personalized index suggestions based on query patterns\n- [`migration-guide`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27migration-guide%27%2C%2F): Step-by-step MongoDB version migration plans\n- [`mongo-shell`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27mongo-shell%27%2C%2F): Generate MongoDB shell commands with explanations\n- [`multi-tenant-design`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27multi-tenant-design%27%2C%2F): Design MongoDB multi-tenant database architecture\n- [`query-builder`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27query-builder%27%2C%2F): Interactive guidance for constructing MongoDB queries\n- [`query-optimizer`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27query-optimizer%27%2C%2F): Optimization recommendations for slow queries\n- [`schema-analysis`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27schema-analysis%27%2C%2F): Detailed collection schema analysis with recommendations\n- [`schema-versioning`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27schema-versioning%27%2C%2F): Manage schema evolution in MongoDB applications\n- [`security-audit`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27security-audit%27%2C%2F): Database security analysis and improvement recommendations\n- [`sql-to-mongodb`](https://github.com/search?type=code&q=repo%3Afurey%2Fmongodb-lens+%2Fserver%5C.prompt%5C%28%5Cs*%27sql-to-mongodb%27%2C%2F): Convert SQL queries to MongoDB aggregation pipelines\n\n### Other Features\n\n- [Overview](#other-features-overview)\n- [New Database Metadata](#other-features-new-database-metadata)\n\n#### Other Features: Overview\n\nMongoDB Lens includes numerous other features:\n\n- **[Config File](#configuration-config-file)**: Custom configuration via `~/.mongodb-lens.[jsonc|json]`\n- **[Env Var Overrides](#configuration-environment-variable-overrides)**: Override config settings via `process.env.CONFIG_*`\n- **[Confirmation System](#data-protection-confirmation-for-destructive-operations)**: Two-step verification for destructive operations\n- **[Multiple Connections](#configuration-multiple-mongodb-connections)**: Define and switch between named URI aliases\n- **[Component Disabling](#disabling-tools)**: Selectively disable tools, prompts or resources\n- **Connection Resilience**: Auto-reconnection with exponential backoff\n- **Query Safeguards**: Configurable limits and performance protections\n- **Error Handling**: Comprehensive JSONRPC error codes and messages\n- **Schema Inference**: Efficient schema analysis with intelligent sampling\n- **Credential Protection**: Connection string password obfuscation in logs\n- **Memory Management**: Auto-monitoring and cleanup for large operations\n- **Smart Caching**: Optimized caching for schema, indexes, fields and collections\n- **Backwards Compatible**: Support both modern and legacy MongoDB versions\n\n#### Other Features: New Database Metadata\n\nMongoDB Lens inserts a `metadata` collection into each database it creates.\n\nThis `metadata` collection stores a single document containing contextual information serving as a permanent record of the database's origin while ensuring the new and otherwise empty database persists in MongoDB's storage system.\n\n<details>\n  <summary><strong>Example metadata document</strong></summary>\n\n```js\n{\n    \"_id\" : ObjectId(\"67d5284463788ec38aecee14\"),\n    \"created\" : {\n        \"timestamp\" : ISODate(\"2025-03-15T07:12:04.705Z\"),\n        \"tool\" : \"MongoDB Lens v5.0.7\",\n        \"user\" : \"anonymous\"\n    },\n    \"mongodb\" : {\n        \"version\" : \"3.6.23\",\n        \"connectionInfo\" : {\n            \"host\" : \"unknown\",\n            \"readPreference\" : \"primary\"\n        }\n    },\n    \"database\" : {\n        \"name\" : \"example_database\",\n        \"description\" : \"Created via MongoDB Lens\"\n    },\n    \"system\" : {\n        \"hostname\" : \"unknown\",\n        \"platform\" : \"darwin\",\n        \"nodeVersion\" : \"v22.14.0\"\n    },\n    \"lens\" : {\n        \"version\" : \"5.0.7\",\n        \"startTimestamp\" : ISODate(\"2025-03-15T07:10:06.084Z\")\n    }\n}\n```\n\n</details>\n\nOnce you've added your own collections to your new database, you can safely remove the `metadata` collection via the `drop-collection` tool:\n\n- _\"Drop the new database's metadata collection\"_<br>\n  <sup>‚û• Uses `drop-collection` tool (with confirmation)</sup>\n\n## Installation\n\nMongoDB Lens can be installed and run in several ways:\n\n- [NPX](#installation-npx) (Easiest)\n- [Docker Hub](#installation-docker-hub)\n- [Node.js from Source](#installation-nodejs-from-source)\n- [Docker from Source](#installation-docker-from-source)\n- [Installation Verification](#installation-verification)\n- [Older MongoDB Versions](#installation-older-mongodb-versions)\n\n### Installation: NPX\n\n> [!NOTE]<br>\n> NPX requires [Node.js](https://nodejs.org/en/download) installed and running on your system (suggestion: use [Volta](https://volta.sh)).\n\nThe easiest way to run MongoDB Lens is using NPX.\n\nFirst, ensure Node.js is installed:\n\n```console\nnode --version # Ideally >= v22.x but MongoDB Lens is >= v18.x compatible\n```\n\nThen, run MongoDB Lens via NPX:\n\n```console\n# Using default connection string mongodb://localhost:27017\nnpx -y mongodb-lens\n\n# Using custom connection string\nnpx -y mongodb-lens mongodb://your-connection-string\n\n# Using \"@latest\" to keep the package up-to-date\nnpx -y mongodb-lens@latest\n```\n\n> [!TIP]<br>\n> If you encounter permissions errors with `npx` try running `npx clear-npx-cache` prior to running `npx -y mongodb-lens` (this clears the cache and re-downloads the package).\n\n### Installation: Docker Hub\n\n> [!NOTE]<br>\n> Docker Hub requires [Docker](https://docs.docker.com/get-started/get-docker) installed and running on your system.\n\nFirst, ensure Docker is installed:\n\n```console\ndocker --version # Ideally >= v27.x\n```\n\nThen, run MongoDB Lens via Docker Hub:\n\n```console\n# Using default connection string mongodb://localhost:27017\ndocker run --rm -i --network=host furey/mongodb-lens\n\n# Using custom connection string\ndocker run --rm -i --network=host furey/mongodb-lens mongodb://your-connection-string\n\n# Using \"--pull\" to keep the Docker image up-to-date\ndocker run --rm -i --network=host --pull=always furey/mongodb-lens\n```\n\n### Installation: Node.js from Source\n\n> [!NOTE]<br>\n> Node.js from source requires [Node.js](https://nodejs.org/en/download) installed and running on your system (suggestion: use [Volta](https://volta.sh)).\n\n1. Clone the MongoDB Lens repository:<br>\n    ```console\n    git clone https://github.com/furey/mongodb-lens.git\n    ```\n1. Navigate to the cloned repository directory:<br>\n    ```console\n    cd /path/to/mongodb-lens\n    ```\n1. Ensure Node.js is installed:<br>\n    ```console\n    node --version # Ideally >= v22.x but MongoDB Lens is >= v18.x compatible\n    ```\n1. Install Node.js dependencies:<br>\n    ```console\n    npm ci\n    ```\n1. Start the server:<br>\n    ```console\n    # Using default connection string mongodb://localhost:27017\n    node mongodb-lens.js\n\n    # Using custom connection string\n    node mongodb-lens.js mongodb://your-connection-string\n    ```\n\n### Installation: Docker from Source\n\n> [!NOTE]<br>\n> Docker from source requires [Docker](https://docs.docker.com/get-started/get-docker) installed and running on your system.\n\n1. Clone the MongoDB Lens repository:<br>\n    ```console\n    git clone https://github.com/furey/mongodb-lens.git\n    ```\n1. Navigate to the cloned repository directory:<br>\n    ```console\n    cd /path/to/mongodb-lens\n    ```\n1. Ensure Docker is installed:<br>\n    ```console\n    docker --version # Ideally >= v27.x\n    ```\n1. Build the Docker image:<br>\n    ```console\n    docker build -t mongodb-lens .\n    ```\n1. Run the container:<br>\n    ```console\n    # Using default connection string mongodb://localhost:27017\n    docker run --rm -i --network=host mongodb-lens\n\n    # Using custom connection string\n    docker run --rm -i --network=host mongodb-lens mongodb://your-connection-string\n    ```\n\n### Installation Verification\n\nTo verify the installation, paste and run the following JSONRPC message into the server's stdio:\n\n```json\n{\"method\":\"resources/read\",\"params\":{\"uri\":\"mongodb://databases\"},\"jsonrpc\":\"2.0\",\"id\":1}\n```\n\nThe server should respond with a list of databases in your MongoDB instance, for example:\n\n```json\n{\"result\":{\"contents\":[{\"uri\":\"mongodb://databases\",\"text\":\"Databases (12):\\n- admin (180.00 KB)\\n- config (108.00 KB)\\n- local (40.00 KB)\\n- sample_airbnb (51.88 MB)\\n- sample_analytics (9.46 MB)\\n- sample_geospatial (980.00 KB)\\n- sample_guides (40.00 KB)\\n- sample_mflix (108.90 MB)\\n- sample_restaurants (7.73 MB)\\n- sample_supplies (968.00 KB)\\n- sample_training (40.85 MB)\\n- sample_weatherdata (2.69 MB)\"}]},\"jsonrpc\":\"2.0\",\"id\":1}\n```\n\nMongoDB Lens is now installed and ready to accept MCP requests.\n\n### Installation: Older MongoDB Versions\n\nIf connecting to a MongoDB instance with a version `< 4.0`, the MongoDB Node.js driver used by the latest version of MongoDB Lens will not be compatible. Specifically, MongoDB Node.js driver versions `4.0.0` and above require MongoDB version `4.0` or higher.\n\nTo use MongoDB Lens with older MongoDB instances, you need to use a MongoDB Node.js driver version from the `3.x` series (e.g. `3.7.4` which is compatible with MongoDB `3.6`).\n\n#### Older MongoDB Versions: Running from Source\n\n1. Clone the MongoDB Lens repository:<br>\n    ```console\n    git clone https://github.com/furey/mongodb-lens.git\n    ```\n1. Navigate to the cloned repository directory:<br>\n    ```console\n    cd /path/to/mongodb-lens\n    ```\n1. Modify `package.json`:<br>\n    ```diff\n    \"dependencies\": {\n      ...\n    -  \"mongodb\": \"^6.15.0\",  // Or whatever newer version is listed\n    +  \"mongodb\": \"^3.7.4\",   // Or whatever 3.x version is compatible with your older MongoDB instance\n      ...\n    }\n    ```\n1. Install Node.js dependencies:<br>\n    ```console\n    npm install\n    ```\n1. Start MongoDB Lens:<br>\n    ```console\n    node mongodb-lens.js mongodb://older-mongodb-instance\n    ```\n\nThis will use the older driver version compatible with your MongoDB instance.\n\n> [!NOTE]<br>\n> You may also need to revert [this commit](https://github.com/furey/mongodb-lens/commit/603b28cbde72fcd62a15cd324afc93028380a054) to add back `useNewUrlParser` and `useUnifiedTopology` MongoDB configuration options.\n\n#### Older MongoDB Versions: Using NPX or Docker\n\nIf you prefer to use NPX or Docker, you'll need to use an older version of MongoDB Lens that was published with a compatible driver.\n\nFor example, MongoDB Lens `8.3.0` uses MongoDB Node.js driver `3.7.4` (see: [`package-lock.json`](https://github.com/furey/mongodb-lens/blob/8.3.0/package-lock.json#L944-L945)).\n\nTo run an older version of MongoDB Lens using NPX, specify the version tag:\n\n```console\nnpx -y mongodb-lens@8.3.0\n```\n\nSimilarly for Docker:\n\n```console\ndocker run --rm -i --network=host furey/mongodb-lens:8.3.0\n```\n\n## Configuration\n\n- [MongoDB Connection String](#configuration-mongodb-connection-string)\n- [Config File](#configuration-config-file)\n- [Config File Generation](#configuration-config-file-generation)\n- [Multiple MongoDB Connections](#configuration-multiple-mongodb-connections)\n- [Environment Variable Overrides](#configuration-environment-variable-overrides)\n- [Cross-Platform Environment Variables](#configuration-cross-platform-environment-variables)\n\n### Configuration: MongoDB Connection String\n\nThe server accepts a MongoDB connection string as its only argument.\n\nExample NPX usage:\n\n```console\nnpx -y mongodb-lens@latest mongodb://your-connection-string\n```\n\nMongoDB connection strings have the following format:\n\n```txt\nmongodb://[username:password@]host[:port][/database][?options]\n```\n\nExample connection strings:\n\n- Local connection:<br>\n  `mongodb://localhost:27017`\n- Connection to `mydatabase` with credentials from `admin` database:<br>\n  `mongodb://username:password@hostname:27017/mydatabase?authSource=admin`\n- Connection to `mydatabase` with various other options:<br>\n  `mongodb://hostname:27017/mydatabase?retryWrites=true&w=majority`\n\nIf no connection string is provided, the server will attempt to connect via local connection.\n\n### Configuration: Config File\n\nMongoDB Lens supports extensive customization via JSON configuration file.\n\n> [!NOTE]<br>\n> The config file is optional. MongoDB Lens will run with default settings if no config file is provided.\n\n> [!TIP]<br>\n> You only need to include the settings you want to customize in the config file. MongoDB Lens will use default settings for any omitted values.\n\n> [!TIP]<br>\n> MongoDB Lens supports both `.json` and `.jsonc` (JSON with comments) config file formats.\n\n<details>\n  <summary><strong>Example configuration file</strong></summary>\n\n```jsonc\n{\n  \"mongoUri\": \"mongodb://localhost:27017\",         // Default MongoDB connection string or object of alias-URI pairs\n  \"connectionOptions\": {\n    \"maxPoolSize\": 20,                             // Maximum number of connections in the pool\n    \"retryWrites\": false,                          // Whether to retry write operations\n    \"connectTimeoutMS\": 30000,                     // Connection timeout in milliseconds\n    \"socketTimeoutMS\": 360000,                     // Socket timeout in milliseconds\n    \"heartbeatFrequencyMS\": 10000,                 // How often to ping servers for status\n    \"serverSelectionTimeoutMS\": 30000              // Timeout for server selection\n  },\n  \"defaultDbName\": \"admin\",                        // Default database if not specified in URI\n  \"connection\": {\n    \"maxRetries\": 5,                               // Maximum number of initial connection attempts\n    \"maxRetryDelayMs\": 30000,                      // Maximum delay between retries\n    \"reconnectionRetries\": 10,                     // Maximum reconnection attempts if connection lost\n    \"initialRetryDelayMs\": 1000                    // Initial delay between retries\n  },\n  \"disabled\": {\n    \"tools\": [],                                   // Array of tools to disable or true to disable all\n    \"prompts\": [],                                 // Array of prompts to disable or true to disable all\n    \"resources\": []                                // Array of resources to disable or true to disable all\n  },\n  \"enabled\": {\n    \"tools\": true,                                 // Array of tools to enable or true to enable all\n    \"prompts\": true,                               // Array of prompts to enable or true to enable all\n    \"resources\": true                              // Array of resources to enable or true to enable all\n  },\n  \"cacheTTL\": {\n    \"stats\": 15000,                                // Stats cache lifetime in milliseconds\n    \"fields\": 30000,                               // Fields cache lifetime in milliseconds\n    \"schemas\": 60000,                              // Schema cache lifetime in milliseconds\n    \"indexes\": 120000,                             // Index cache lifetime in milliseconds\n    \"collections\": 30000,                          // Collections list cache lifetime in milliseconds\n    \"serverStatus\": 20000                          // Server status cache lifetime in milliseconds\n  },\n  \"enabledCaches\": [                               // List of caches to enable\n    \"stats\",                                       // Statistics cache\n    \"fields\",                                      // Collection fields cache\n    \"schemas\",                                     // Collection schemas cache\n    \"indexes\",                                     // Collection indexes cache\n    \"collections\",                                 // Database collections cache\n    \"serverStatus\"                                 // MongoDB server status cache\n  ],\n  \"memory\": {\n    \"enableGC\": true,                              // Whether to enable garbage collection\n    \"warningThresholdMB\": 1500,                    // Memory threshold for warnings\n    \"criticalThresholdMB\": 2000                    // Memory threshold for cache clearing\n  },\n  \"logLevel\": \"info\",                              // Log level (info or verbose)\n  \"disableDestructiveOperationTokens\": false,      // Whether to skip confirmation for destructive ops\n  \"watchdogIntervalMs\": 30000,                     // Interval for connection monitoring\n  \"defaults\": {\n    \"slowMs\": 100,                                 // Threshold for slow query detection\n    \"queryLimit\": 10,                              // Default limit for query results\n    \"allowDiskUse\": true,                          // Allow operations to use disk for large datasets\n    \"schemaSampleSize\": 100,                       // Sample size for schema inference\n    \"aggregationBatchSize\": 50                     // Batch size for aggregation operations\n  },\n  \"security\": {\n    \"tokenLength\": 4,                              // Length of confirmation tokens\n    \"tokenExpirationMinutes\": 5,                   // Expiration time for tokens\n    \"strictDatabaseNameValidation\": true           // Enforce strict database name validation\n  },\n  \"tools\": {\n    \"transaction\": {\n      \"readConcern\": \"snapshot\",                   // Read concern level for transactions\n      \"writeConcern\": {\n        \"w\": \"majority\"                            // Write concern for transactions\n      }\n    },\n    \"bulkOperations\": {\n      \"ordered\": true                              // Whether bulk operations execute in order\n    },\n    \"export\": {\n      \"defaultLimit\": -1,                          // Default limit for exports (-1 = no limit)\n      \"defaultFormat\": \"json\"                      // Default export format (json or csv)\n    },\n    \"watchChanges\": {\n      \"maxDurationSeconds\": 60,                    // Maximum duration for change streams\n      \"defaultDurationSeconds\": 10                 // Default duration for change streams\n    },\n    \"queryAnalysis\": {\n      \"defaultDurationSeconds\": 10                 // Default duration for query analysis\n    }\n  }\n}\n```\n\n</details>\n\nBy default, MongoDB Lens looks for the config file at:\n\n- `~/.mongodb-lens.jsonc` first, then falls back to\n- `~/.mongodb-lens.json` if the former doesn't exist\n\nTo customize the config file path, set the environment variable `CONFIG_PATH` to the desired file path.\n\nExample NPX usage:\n\n```console\nCONFIG_PATH='/path/to/config.json' npx -y mongodb-lens@latest\n```\n\nExample Docker Hub usage:\n\n```console\ndocker run --rm -i --network=host --pull=always -v /path/to/config.json:/root/.mongodb-lens.json furey/mongodb-lens\n```\n\n### Configuration: Config File Generation\n\nYou can generate a configuration file automatically using the `config:create` script:\n\n```console\n# NPX Usage (recommended)\nnpx -y mongodb-lens@latest config:create\n\n# Node.js Usage\nnpm run config:create\n\n# Force overwrite existing files\nnpx -y mongodb-lens@latest config:create -- --force\nnpm run config:create -- --force\n```\n\nThis script extracts the [example configuration file](#configuration-config-file) above and saves it to: `~/.mongodb-lens.jsonc`\n\n#### Config File Generation: Custom Path\n\nYou can specify a custom output location using the `CONFIG_PATH` environment variable.\n\n- If `CONFIG_PATH` has no file extension, it's treated as a directory and `.mongodb-lens.jsonc` is appended\n- If `CONFIG_PATH` ends with `.json` (not `.jsonc`) comments are removed from the generated file\n\nExample NPX usage:\n\n```console\n# With custom path\nCONFIG_PATH=/path/to/config.jsonc npx -y mongodb-lens@latest config:create\n\n# Save to directory (will append .mongodb-lens.jsonc to the path)\nCONFIG_PATH=/path/to/directory npx -y mongodb-lens@latest config:create\n\n# Save as JSON instead of JSONC\nCONFIG_PATH=/path/to/config.json npx -y mongodb-lens@latest config:create\n```\n\nExample Node.js usage:\n\n```console\n# With custom path\nCONFIG_PATH=/path/to/config.jsonc node mongodb-lens.js config:create\n\n# Save to directory (will append .mongodb-lens.jsonc to the path)\nCONFIG_PATH=/path/to/directory node mongodb-lens.js config:create\n\n# Save as JSON instead of JSONC\nCONFIG_PATH=/path/to/config.json node mongodb-lens.js config:create\n```\n\n### Configuration: Multiple MongoDB Connections\n\nMongoDB Lens supports multiple MongoDB URIs with aliases in your [config file](#configuration-config-file), allowing you to easily switch between different MongoDB instances using simple names.\n\nTo configure multiple connections, set the `mongoUri` config setting to an object with alias-URI pairs:\n\n```json\n{\n  \"mongoUri\": {\n    \"main\": \"mongodb://localhost:27017\",\n    \"backup\": \"mongodb://localhost:27018\",\n    \"atlas\": \"mongodb+srv://username:password@cluster.mongodb.net/mydb\"\n  }\n}\n```\n\nWith this configuration:\n\n- The first URI in the list (e.g. `main`) becomes the default connection at startup\n- You can switch connections using natural language: `\"Connect to backup\"` or `\"Connect to atlas\"`\n- The original syntax still works: `\"Connect to mongodb://localhost:27018\"`\n- The `list-connections` tool shows all available connection aliases\n\n> [!NOTE]<br>\n> When using the command-line argument to specify a connection, you can use either a full MongoDB URI or an alias defined in your configuration file.\n\n> [!TIP]<br>\n> To add connection aliases at runtime, use the `add-connection-alias` tool.\n\n### Configuration: Environment Variable Overrides\n\nMongoDB Lens supports environment variable overrides for configuration settings.\n\nEnvironment variables take precedence over [config file](#configuration-config-file) settings.\n\nConfig environment variables follow the naming pattern:\n\n```txt\nCONFIG_[SETTING PATH, SNAKE CASED, UPPERCASED]\n```\n\nExample overrides:\n\n| Config Setting                   | Environment Variable Override             |\n| -------------------------------- | ----------------------------------------- |\n| `mongoUri`                       | `CONFIG_MONGO_URI`                        |\n| `logLevel`                       | `CONFIG_LOG_LEVEL`                        |\n| `defaultDbName`                  | `CONFIG_DEFAULT_DB_NAME`                  |\n| `defaults.queryLimit`            | `CONFIG_DEFAULTS_QUERY_LIMIT`             |\n| `tools.export.defaultFormat`     | `CONFIG_TOOLS_EXPORT_DEFAULT_FORMAT`      |\n| `connectionOptions.maxPoolSize`  | `CONFIG_CONNECTION_OPTIONS_MAX_POOL_SIZE` |\n| `connection.reconnectionRetries` | `CONFIG_CONNECTION_RECONNECTION_RETRIES`  |\n\nFor environment variable values:\n\n- For boolean settings, use string values `'true'` or `'false'`.\n- For numeric settings, use string representations.\n- For nested objects or arrays, use JSON strings.\n\nExample NPX usage:\n\n```console\nCONFIG_DEFAULTS_QUERY_LIMIT='25' npx -y mongodb-lens@latest\n```\n\nExample Docker Hub usage:\n\n```console\ndocker run --rm -i --network=host --pull=always -e CONFIG_DEFAULTS_QUERY_LIMIT='25' furey/mongodb-lens\n```\n\n### Configuration: Cross-Platform Environment Variables\n\nFor consistent environment variable usage across Windows, macOS, and Linux, consider using `cross-env`:\n\n1. Install cross-env globally:<br>\n   ```console\n   # Using NPM\n   npm install -g cross-env\n\n   # Using Volta (see: https://volta.sh)\n   volta install cross-env\n   ```\n1. Prefix any NPX or Node.js environment variables in this document's examples:<br>\n   ```console\n   # Example NPX usage with cross-env\n   cross-env CONFIG_DEFAULTS_QUERY_LIMIT='25' npx -y mongodb-lens@latest\n\n   # Example Node.js usage with cross-env\n   cross-env CONFIG_DEFAULTS_QUERY_LIMIT='25' node mongodb-lens.js\n   ```\n\n## Client Setup\n\n- [Claude Desktop](#client-setup-claude-desktop)\n- [MCP Inspector](#client-setup-mcp-inspector)\n- [Other MCP Clients](#client-setup-other-mcp-clients)\n\n### Client Setup: Claude Desktop\n\nTo use MongoDB Lens with Claude Desktop:\n\n1. Install [Claude Desktop](https://claude.ai/download)\n1. Open `claude_desktop_config.json` (create if it doesn't exist):\n    - macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n    - Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n1. Add the MongoDB Lens server configuration as per [configuration options](#claude-desktop-configuration-options)\n1. Restart Claude Desktop\n1. Start a conversation with Claude about your MongoDB data\n\n#### Claude Desktop Configuration Options\n\n- [Option 1: NPX (Recommended)](#option-1-npx-recommended)\n- [Option 2: Docker Hub Image](#option-2-docker-hub-image)\n- [Option 3: Local Node.js Installation](#option-3-local-nodejs-installation)\n- [Option 4: Local Docker Image](#option-4-local-docker-image)\n\nFor each option:\n\n- Replace `mongodb://your-connection-string` with your MongoDB connection string or omit it to use the default `mongodb://localhost:27017`.\n- To use a custom config file, set [`CONFIG_PATH`](#configuration-config-file) environment variable.\n- To include environment variables:\n  - For NPX or Node.js add `\"env\": {}` with key-value pairs, for example:<br>\n    ```json\n    \"command\": \"/path/to/npx\",\n    \"args\": [\n      \"-y\",\n      \"mongodb-lens@latest\",\n      \"mongodb://your-connection-string\"\n    ],\n    \"env\": {\n      \"CONFIG_LOG_LEVEL\": \"verbose\"\n    }\n    ```\n  - For Docker add `-e` flags, for example:<br>\n    ```json\n    \"command\": \"docker\",\n    \"args\": [\n      \"run\", \"--rm\", \"-i\",\n      \"--network=host\",\n      \"--pull=always\",\n      \"-e\", \"CONFIG_LOG_LEVEL=verbose\",\n      \"furey/mongodb-lens\",\n      \"mongodb://your-connection-string\"\n    ]\n    ```\n\n##### Option 1: NPX (Recommended)\n\n```json\n{\n  \"mcpServers\": {\n    \"mongodb-lens\": {\n      \"command\": \"/path/to/npx\",\n      \"args\": [\n        \"-y\",\n        \"mongodb-lens@latest\",\n        \"mongodb://your-connection-string\"\n      ]\n    }\n  }\n}\n```\n\n##### Option 2: Docker Hub Image\n\n```json\n{\n  \"mcpServers\": {\n    \"mongodb-lens\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\", \"--rm\", \"-i\",\n        \"--network=host\",\n        \"--pull=always\",\n        \"furey/mongodb-lens\",\n        \"mongodb://your-connection-string\"\n      ]\n    }\n  }\n}\n```\n\n##### Option 3: Local Node.js Installation\n\n```json\n{\n  \"mcpServers\": {\n    \"mongodb-lens\": {\n      \"command\": \"/path/to/node\",\n      \"args\": [\n        \"/path/to/mongodb-lens.js\",\n        \"mongodb://your-connection-string\"\n      ]\n    }\n  }\n}\n```\n\n##### Option 4: Local Docker Image\n\n```json\n{\n  \"mcpServers\": {\n    \"mongodb-lens\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\", \"--rm\", \"-i\",\n        \"--network=host\",\n        \"mongodb-lens\",\n        \"mongodb://your-connection-string\"\n      ]\n    }\n  }\n}\n```\n\n### Client Setup: MCP Inspector\n\n[MCP Inspector](https://github.com/modelcontextprotocol/inspector) is a tool designed for testing and debugging MCP servers.\n\n> [!NOTE]<br>\n> MCP Inspector starts a proxy server on port 3000 and web client on port 5173.\n\nExample NPX usage:\n\n1. Run MCP Inspector:<br>\n    ```console\n    # Using default connection string mongodb://localhost:27017\n    npx -y @modelcontextprotocol/inspector npx -y mongodb-lens@latest\n\n    # Using custom connection string\n    npx -y @modelcontextprotocol/inspector npx -y mongodb-lens@latest mongodb://your-connection-string\n\n    # Using custom ports\n    SERVER_PORT=1234 CLIENT_PORT=5678 npx -y @modelcontextprotocol/inspector npx -y mongodb-lens@latest\n    ```\n1. Open MCP Inspector: http://localhost:5173\n\nMCP Inspector should support the full range of MongoDB Lens capabilities, including autocompletion for collection names and query fields.\n\nFor more, see: [MCP Inspector](https://modelcontextprotocol.io/docs/tools/inspector)\n\n### Client Setup: Other MCP Clients\n\nMongoDB Lens should be usable with any MCP-compatible client.\n\nFor more, see: [MCP Documentation: Example Clients](https://modelcontextprotocol.io/clients)\n\n## Data Protection\n\nTo protect your data while using MongoDB Lens, consider the following:\n\n- [Read-Only User Accounts](#data-protection-read-only-user-accounts)\n- [Working with Database Backups](#data-protection-working-with-database-backups)\n- [Data Flow Considerations](#data-protection-data-flow-considerations)\n- [Confirmation for Destructive Operations](#data-protection-confirmation-for-destructive-operations)\n- [Disabling Destructive Operations](#data-protection-disabling-destructive-operations)\n\n### Data Protection: Read-Only User Accounts\n\nWhen connecting MongoDB Lens to your database, the permissions granted to the user in the MongoDB connection string dictate what actions can be performed. When the use case fits, a read-only user can prevent unintended writes or deletes, ensuring MongoDB Lens can query data but not alter it.\n\nTo set this up, create a user with the `read` role scoped to the database(s) you're targeting. In MongoDB shell, you'd run something like:\n\n```js\nuse admin\n\ndb.createUser({\n  user: 'readonly',\n  pwd: 'eXaMpLePaSsWoRd',\n  roles: [{ role: 'read', db: 'mydatabase' }]\n})\n```\n\nThen, apply those credentials to your MongoDB connection string:\n\n```txt\nmongodb://readonly:eXaMpLePaSsWoRd@localhost:27017/mydatabase\n```\n\nUsing read-only credentials is a simple yet effective way to enforce security boundaries, especially when you're poking around schemas or running ad-hoc queries.\n\n### Data Protection: Working with Database Backups\n\nWhen working with MongoDB Lens, consider connecting to a backup copy of your data hosted on a separate MongoDB instance.\n\nStart by generating the backup with `mongodump`. Next, spin up a fresh MongoDB instance (e.g. on a different port like `27018`) and restore the backup there using `mongorestore`. Once it's running, point MongoDB Lens to the backup instance's connection string (e.g. `mongodb://localhost:27018/mydatabase`).\n\nThis approach gives you a sandbox to test complex or destructive operations against without risking accidental corruption of your live data.\n\n### Data Protection: Data Flow Considerations\n\n- [How Your Data Flows Through the System](#data-flow-considerations-how-your-data-flows-through-the-system)\n- [Protecting Sensitive Data with Projection](#data-flow-considerations-protecting-sensitive-data-with-projection)\n- [Connection Aliases and Passwords](#data-flow-considerations-connection-aliases-and-passwords)\n- [Local Setup for Maximum Safety](#data-flow-considerations-local-setup-for-maximum-safety)\n\n#### Data Flow Considerations: How Your Data Flows Through the System\n\nWhen using an MCP Server with a remote LLM provider (such as Anthropic via Claude Desktop) understanding how your data flows through the system is key to protecting sensitive information from unintended exposure.\n\nWhen you send a MongoDB related query through your MCP client, here‚Äôs what happens:\n\n> [!NOTE]<br>\n> While this example uses a local MongoDB instance, the same principles apply to remote MongoDB instances.\n\n```mermaid\nsequenceDiagram\n    actor User\n    box Local Machine #d4f1f9\n        participant Client as MCP Client\n        participant Lens as MongoDB Lens\n        participant MongoDB as MongoDB Instance\n    end\n    box Remote Server #ffe6cc\n        participant LLM as Remote LLM Provider\n    end\n\n    User->>Client: 1. Submit request<br>\"Show me all users older than 30\"\n    Client->>LLM: 2. User request + available tools\n    Note over LLM: Interprets request<br>Chooses appropriate tool\n    LLM->>Client: 3. Tool selection (find-documents)\n    Client->>Lens: 4. Tool run with parameters\n    Lens->>MongoDB: 5. Database query\n    MongoDB-->>Lens: 6. Database results\n    Lens-->>Client: 7. Tool results (formatted data)\n    Client->>LLM: 8. Tool results\n    Note over LLM: Processes results<br>Formats response\n    LLM-->>Client: 9. Processed response\n    Client-->>User: 10. Final answer\n```\n\n1. You submit a request<br><sup>‚û• e.g. \"Show me all users older than 30\"</sup>\n1. Your client sends the request to the remote LLM<br><sup>‚û• The LLM provider receives your exact words along with a list of available MCP tools and their parameters.</sup>\n1. The remote LLM interprets your request<br><sup>‚û• It determines your intent and instructs the client to use a specific MCP tool with appropriate parameters.</sup>\n1. The client asks MongoDB Lens to run the tool<br><sup>‚û• This occurs locally on your machine via stdio.</sup>\n1. MongoDB Lens queries your MongoDB database\n1. MongoDB Lens retrieves your MongoDB query results\n1. MongoDB Lens sends the data back to the client<br><sup>‚û• The client receives results formatted by MongoDB Lens.</sup>\n1. The client forwards the data to the remote LLM<br><sup>‚û• The LLM provider sees the exact data returned by MongoDB Lens.</sup>\n1. The remote LLM processes the data<br><sup>‚û• It may summarize or format the results further.</sup>\n1. The remote LLM sends the final response to the client<br><sup>‚û• The client displays the answer to you.</sup>\n\nThe remote LLM provider sees both your original request and the full response from MongoDB Lens. If your database includes sensitive fields (e.g. passwords, personal details, etc) this data could be unintentionally transmitted to the remote provider unless you take precautions.\n\n#### Data Flow Considerations: Protecting Sensitive Data with Projection\n\nTo prevent sensitive data from being sent to the remote LLM provider, use the concept of projection when using tools like `find-documents`, `aggregate-data`, or `export-data`. Projection allows you to specify which fields to include or exclude in query results, ensuring sensitive information stays local.\n\nExample projection usage:\n\n- _\"Show me all users older than 30, but use projection to hide their passwords.\"_<br>\n  <sup>‚û• Uses `find-documents` tool with projection</sup>\n\n#### Data Flow Considerations: Connection Aliases and Passwords\n\nWhen adding new connection aliases using the `add-connection-alias` tool, avoid added aliases to URIs that contain passwords if you're using a remote LLM provider. Since your request is sent to the LLM, any passwords in the URI could be exposed. Instead, define aliases with passwords in the MongoDB Lens [config file](#configuration-multiple-mongodb-connections), where they remain local and are not transmitted to the LLM.\n\n#### Data Flow Considerations: Local Setup for Maximum Safety\n\nWhile outside the scope of this document, for the highest level of data privacy, consider using a local MCP client paired with a locally hosted LLM model. This approach keeps all requests and data within your local environment, eliminating the risk of sensitive information being sent to a remote provider.\n\n### Data Protection: Confirmation for Destructive Operations\n\nMongoDB Lens implements a token-based confirmation system for potentially destructive operations, requiring a two-step process to execute tools that may otherwise result in unchecked data loss:\n\n1. First tool invocation: Returns a 4-digit confirmation token that expires after 5 minutes\n1. Second tool invocation: Executes the operation if provided with the valid token\n\nFor an example of the confirmation process, see: [Working with Confirmation Protection](#tutorial-5-working-with-confirmation-protection)\n\nTools that require confirmation include:\n\n- `drop-user`: Remove a database user\n- `drop-index`: Remove an index (potential performance impact)\n- `drop-database`: Permanently delete a database\n- `drop-collection`: Delete a collection and all its documents\n- `delete-document`: Delete one or multiple documents\n- `bulk-operations`: When including delete operations\n- `rename-collection`: When the target collection exists and will be dropped\n\nThis protection mechanism aims to prevent accidental data loss from typos and unintended commands. It's a safety net ensuring you're aware of the consequences before proceeding with potentially harmful actions.\n\n> [!NOTE]<br>\n> If you're working in a controlled environment where data loss is acceptable, you can configure MongoDB Lens to [bypass confirmation](#bypassing-confirmation-for-destructive-operations) and perform destructive operations immediately.\n\n#### Bypassing Confirmation for Destructive Operations\n\nYou might want to bypass the token confirmation system.\n\nSet the environment variable `CONFIG_DISABLE_DESTRUCTIVE_OPERATION_TOKENS` to `true` to execute destructive operations immediately without confirmation:\n\n```console\n# Using NPX\nCONFIG_DISABLE_DESTRUCTIVE_OPERATION_TOKENS=true npx -y mongodb-lens@latest\n\n# Using Docker\ndocker run --rm -i --network=host --pull=always -e CONFIG_DISABLE_DESTRUCTIVE_OPERATION_TOKENS='true' furey/mongodb-lens\n```\n\n> [!WARNING]<br>\n> Disabling confirmation tokens removes an important safety mechanism. It's strongly recommended to only use this option in controlled environments where data loss is acceptable, such as development or testing. Disable at your own risk.\n\n### Data Protection: Disabling Destructive Operations\n\n- [Disabling Tools](#disabling-tools)\n- [High-Risk Tools](#high-risk-tools)\n- [Medium-Risk Tools](#medium-risk-tools)\n- [Read-Only Configuration](#read-only-configuration)\n- [Selective Component Enabling](#selective-component-enabling)\n\n#### Disabling Tools\n\nMongoDB Lens includes several tools that can modify or delete data. To disable specific tools, add them to the `disabled.tools` array in your [configuration file](#configuration-config-file):\n\n```json\n{\n  \"disabled\": {\n    \"tools\": [\n      \"drop-user\",\n      \"drop-index\",\n      \"drop-database\",\n      \"drop-collection\",\n      \"delete-document\",\n      \"bulk-operations\",\n      \"rename-collection\"\n    ]\n  }\n}\n```\n\n> [!NOTE]<br>\n> Resources and prompts can also be disabled via `disabled.resources` and `disabled.prompts` settings.\n\n#### High-Risk Tools\n\nThese tools can cause immediate data loss and should be considered for disabling in sensitive environments:\n\n- `drop-user`: Removes database users and their access permissions\n- `drop-index`: Removes indexes (can impact query performance)\n- `drop-database`: Permanently deletes entire databases\n- `drop-collection`: Permanently deletes collections and all their documents\n- `delete-document`: Removes documents matching specified criteria\n- `bulk-operations`: Can perform batch deletions when configured to do so\n- `rename-collection`: Can overwrite existing collections when using the drop target option\n\n#### Medium-Risk Tools\n\nThese tools can modify data but typically don't cause immediate data loss:\n\n- `create-user`: Creates users with permissions that could enable further changes\n- `transaction`: Executes multiple operations in a transaction (potential for complex changes)\n- `update-document`: Updates documents which could overwrite existing data\n\n#### Read-Only Configuration\n\nFor a complete read-only configuration, disable all potentially destructive tools:\n\n```json\n{\n  \"disabled\": {\n    \"tools\": [\n      \"drop-user\",\n      \"drop-index\",\n      \"create-user\",\n      \"transaction\",\n      \"create-index\",\n      \"drop-database\",\n      \"drop-collection\",\n      \"insert-document\",\n      \"update-document\",\n      \"delete-document\",\n      \"bulk-operations\",\n      \"create-database\",\n      \"gridfs-operation\",\n      \"create-collection\",\n      \"rename-collection\",\n      \"create-timeseries\"\n    ]\n  }\n}\n```\n\nThis configuration allows MongoDB Lens to query and analyze data while preventing any modifications, providing multiple layers of protection against accidental data loss.\n\n#### Selective Component Enabling\n\nIn addition to [disabling components](#disabling-tools), specify exactly which components should be enabled (implicitly disabling all others) using the `enabled` settings in your [configuration file](#configuration-config-file):\n\n```json\n{\n  \"enabled\": {\n    \"tools\": [\n      \"use-database\",\n      \"find-documents\",\n      \"count-documents\",\n      \"aggregate-data\"\n    ]\n  },\n  \"disabled\": {\n    \"resources\": true,\n    \"prompts\": true\n  }\n}\n```\n\n> [!IMPORTANT]<br>\n> If a component appears in both `enabled` and `disabled` lists, the `enabled` setting takes precedence.\n\n## Tutorial\n\nThis following tutorial guides you through setting up a MongoDB container with sample data, then using MongoDB Lens to interact with it through natural language queries:\n\n1. [Start Sample Data Container](#tutorial-1-start-sample-data-container)\n1. [Import Sample Data](#tutorial-2-import-sample-data)\n1. [Connect MongoDB Lens](#tutorial-3-connect-mongodb-lens)\n1. [Example Queries](#tutorial-4-example-queries)\n1. [Working With Confirmation Protection](#tutorial-5-working-with-confirmation-protection)\n\n### Tutorial: 1. Start Sample Data Container\n\n> [!NOTE]<br>\n> This tutorial assumes you have [Docker](https://docs.docker.com/get-started/get-docker/) installed and running on your system.\n\n> [!IMPORTANT]<br>\n> If Docker is already running a container on port 27017, stop it before proceeding.\n\n1. Initialise the sample data container:<br>\n    ```console\n    docker run --name mongodb-sampledata -d -p 27017:27017 mongo:6\n    ```\n1. Verify the container is running without issue:<br>\n    ```console\n    docker ps | grep mongodb-sampledata\n    ```\n\n### Tutorial: 2. Import Sample Data\n\nMongoDB provides several [sample datasets](https://www.mongodb.com/docs/atlas/sample-data/#available-sample-datasets) which we'll use to explore MongoDB Lens.\n\n1. Download the sample datasets:\n    ```console<br>\n    curl -LO https://atlas-education.s3.amazonaws.com/sampledata.archive\n    ```\n1. Copy the sample datasets into your sample data container:<br>\n    ```console\n    docker cp sampledata.archive mongodb-sampledata:/tmp/\n    ```\n1. Import the sample datasets into MongoDB:<br>\n    ```console\n    docker exec -it mongodb-sampledata mongorestore --archive=/tmp/sampledata.archive\n    ```\n\nThis will import several databases:\n\n- `sample_airbnb`: Airbnb listings and reviews\n- `sample_analytics`: Customer and account data\n- `sample_geospatial`: Geographic data\n- `sample_mflix`: Movie data\n- `sample_restaurants`: Restaurant data\n- `sample_supplies`: Supply chain data\n- `sample_training`: Training data for various applications\n- `sample_weatherdata`: Weather measurements\n\n### Tutorial: 3. Connect MongoDB Lens\n\n[Install](#installation) MongoDB Lens as per the [Quick Start](#quick-start) instructions.\n\nSet your [MCP Client](#client-setup) to connect to MongoDB Lens via: `mongodb://localhost:27017`\n\n> [!TIP]<br>\n> Omitting the connection string from your MCP Client configuration will default the connection string to `mongodb://localhost:27017`.\n\nExample [Claude Desktop configuration](#client-setup-claude-desktop):\n\n```json\n{\n  \"mcpServers\": {\n    \"mongodb-lens\": {\n      \"command\": \"/path/to/npx\",\n      \"args\": [\n        \"-y\",\n        \"mongodb-lens@latest\"\n      ]\n    }\n  }\n}\n```\n\n### Tutorial: 4. Example Queries\n\nWith your MCP Client running and connected to MongoDB Lens, try the following example queries:\n\n- [Example Queries: Basic Database Operations](#example-queries-basic-database-operations)\n- [Example Queries: Collection Management](#example-queries-collection-management)\n- [Example Queries: User Management](#example-queries-user-management)\n- [Example Queries: Querying Data](#example-queries-querying-data)\n- [Example Queries: Schema Analysis](#example-queries-schema-analysis)\n- [Example Queries: Data Modification](#example-queries-data-modification)\n- [Example Queries: Performance & Index Management](#example-queries-performance--index-management)\n- [Example Queries: Geospatial & Special Operations](#example-queries-geospatial--special-operations)\n- [Example Queries: Export, Administrative & Other Features](#example-queries-export-administrative--other-features)\n- [Example Queries: Connection Management](#example-queries-connection-management)\n\n#### Example Queries: Basic Database Operations\n\n- _\"List all databases\"_<br>\n  <sup>‚û• Uses `list-databases` tool</sup>\n- _\"What db am I currently using?\"_<br>\n  <sup>‚û• Uses `current-database` tool</sup>\n- _\"Switch to the sample_mflix database\"_<br>\n  <sup>‚û• Uses `use-database` tool</sup>\n- _\"Create a new db called test_db\"_<br>\n  <sup>‚û• Uses `create-database` tool</sup>\n- _\"Create another db called analytics_db and switch to it\"_<br>\n  <sup>‚û• Uses `create-database` tool with switch=true</sup>\n- _\"Drop test_db\"_<br>\n  <sup>‚û• Uses `drop-database` tool (with confirmation)</sup>\n\n#### Example Queries: Collection Management\n\n- _\"What collections are in the current database?\"_<br>\n  <sup>‚û• Uses `list-collections` tool</sup>\n- _\"Create user_logs collection\"_<br>\n  <sup>‚û• Uses `create-collection` tool</sup>\n- _\"Rename user_logs to system_logs\"_<br>\n  <sup>‚û• Uses `rename-collection` tool</sup>\n- _\"Drop system_logs\"_<br>\n  <sup>‚û• Uses `drop-collection` tool (with confirmation)</sup>\n- _\"Check the data consistency in the movies collection\"_<br>\n  <sup>‚û• Uses `validate-collection` tool</sup>\n\n#### Example Queries: User Management\n\n- _\"Create a read-only user for analytics\"_<br>\n  <sup>‚û• Uses `create-user` tool</sup>\n- _\"Drop the inactive_user account\"_<br>\n  <sup>‚û• Uses `drop-user` tool (with confirmation)</sup>\n\n#### Example Queries: Querying Data\n\n- _\"Count all docs in the movies collection\"_<br>\n  <sup>‚û• Uses `count-documents` tool</sup>\n- _\"Find the top 5 movies with the highest IMDB rating\"_<br>\n  <sup>‚û• Uses `find-documents` tool</sup>\n- _\"Show me aggregate data for movies grouped by decade\"_<br>\n  <sup>‚û• Uses `aggregate-data` tool</sup>\n- _\"List all unique countries where movies were produced\"_<br>\n  <sup>‚û• Uses `distinct-values` tool</sup>\n- _\"Search for movies containing godfather in their title\"_<br>\n  <sup>‚û• Uses `text-search` tool</sup>\n- _\"Find German users with last name m√ºller using proper collation\"_<br>\n  <sup>‚û• Uses `collation-query` tool</sup>\n\n#### Example Queries: Schema Analysis\n\n- _\"What's the schema structure of the movies collection?\"_<br>\n  <sup>‚û• Uses `analyze-schema` tool</sup>\n- _\"Compare users and comments schemas\"_<br>\n  <sup>‚û• Uses `compare-schemas` tool</sup>\n- _\"Generate a schema validator for the movies collection\"_<br>\n  <sup>‚û• Uses `generate-schema-validator` tool</sup>\n- _\"Analyze common query patterns for the movies collection\"_<br>\n  <sup>‚û• Uses `analyze-query-patterns` tool</sup>\n\n#### Example Queries: Data Modification\n\n- _\"Insert new movie document: \\<your field data\\>\"_<br>\n  <sup>‚û• Uses `insert-document` tool</sup>\n- _\"Update all movies from 1994 to add a 'classic' flag\"_<br>\n  <sup>‚û• Uses `update-document` tool</sup>\n- _\"Delete all movies with zero ratings\"_<br>\n  <sup>‚û• Uses `delete-document` tool (with confirmation)</sup>\n- _\"Run these bulk operations on the movies collection: \\<your JSON data\\>\"_<br>\n  <sup>‚û• Uses `bulk-operations` tool</sup>\n\n> [!TIP]<br>\n> For specialized MongoDB operations (like array operations, bitwise operations, or other complex updates), use MongoDB's native operators via the `update-document` tool's `update` and `options` parameters.\n\n#### Example Queries: Performance & Index Management\n\n- _\"Create an index on the title field in the movies collection\"_<br>\n  <sup>‚û• Uses `create-index` tool</sup>\n- _\"Drop the ratings_idx index\"_<br>\n  <sup>‚û• Uses `drop-index` tool (with confirmation)</sup>\n- _\"Explain the execution plan for finding movies from 1995\"_<br>\n  <sup>‚û• Uses `explain-query` tool</sup>\n- _\"Get statistics for the current db\"_<br>\n  <sup>‚û• Uses `get-stats` tool with target=database</sup>\n- _\"Show collection stats for the movies collection\"_<br>\n  <sup>‚û• Uses `get-stats` tool with target=collection</sup>\n\n#### Example Queries: Geospatial & Special Operations\n\n- _\"Switch to sample_geospatial db, then find all shipwrecks within 10km of coordinates [-80.12, 26.46]\"_<br>\n  <sup>‚û• Uses `geo-query` tool</sup>\n- _\"Switch to sample_analytics db, then execute a transaction to move funds between accounts: \\<account ids\\>\"_<br>\n  <sup>‚û• Uses `transaction` tool</sup>\n- _\"Create a time series collection for sensor readings\"_<br>\n  <sup>‚û• Uses `create-timeseries` tool</sup>\n- _\"Watch for changes in the users collection for 30 seconds\"_<br>\n  <sup>‚û• Uses `watch-changes` tool</sup>\n- _\"List all files in the images GridFS bucket\"_<br>\n  <sup>‚û• Uses `gridfs-operation` tool with operation=list</sup>\n\n#### Example Queries: Export, Administrative & Other Features\n\n- _\"Switch to sample_mflix db, then export the top 20 movies based on 'tomatoes.critic.rating' as a CSV with title, year and rating fields (output in a single code block)\"_<br>\n  <sup>‚û• Uses `export-data` tool</sup>\n- _\"Switch to sample_analytics db, then check its sharding status\"_<br>\n  <sup>‚û• Uses `shard-status` tool</sup>\n- _\"Clear the collections cache\"_<br>\n  <sup>‚û• Uses `clear-cache` tool with target=collections</sup>\n- _\"Clear all caches\"_<br>\n  <sup>‚û• Uses `clear-cache` tool</sup>\n- _\"Switch to sample_weatherdata db then generate an interactive report on its current state\"_<br>\n  <sup>‚û• Uses numerous tools</sup>\n\n#### Example Queries: Connection Management\n\n- _\"Connect to mongodb://localhost:27018\"_<br>\n  <sup>‚û• Uses `connect-mongodb` tool</sup>\n- _\"Connect to mongodb+srv://username:password@cluster.mongodb.net/mydb\"_<br>\n  <sup>‚û• Uses `connect-mongodb` tool</sup>\n- _\"Connect back to the original mongodb instance\"_<br>\n  <sup>‚û• Uses `connect-original` tool</sup>\n- _\"Connect to replica set without validating the connection: \\<replica set details\\>\"_<br>\n  <sup>‚û• Uses `connect-mongodb` tool with validateConnection=false</sup>\n- _\"Add connection alias 'prod' for mongodb://username:password@prod-server:27017/mydb\"_<br>\n<sup>‚û• Uses `add-connection-alias` tool</sup>\n\n### Tutorial: 5. Working With Confirmation Protection\n\nMongoDB Lens includes a safety mechanism for potentially destructive operations. Here's how it works in practice:\n\n1. Request to drop a collection:<br>\n    ```\n    \"Drop the collection named test_collection\"\n    ```\n1. MongoDB Lens responds with a warning and confirmation token:<br>\n    ```\n    ‚ö†Ô∏è DESTRUCTIVE OPERATION WARNING ‚ö†Ô∏è\n\n    You've requested to drop the collection 'test_collection'.\n\n    This operation is irreversible and will permanently delete all data in this collection.\n\n    To confirm, you must type the 4-digit confirmation code EXACTLY as shown below:\n\n    Confirmation code: 9876\n\n    This code will expire in 5 minutes for security purposes.\n    ```\n1. Confirm the operation by submitting the confirmation token:<br>\n    ```\n    \"9876\"\n    ```\n1. MongoDB Lens executes the operation:<br>\n    ```\n    Collection 'test_collection' has been permanently deleted.\n    ```\n\nThis two-step process prevents accidental data loss by requiring explicit confirmation.\n\n> [!NOTE]<br>\n> If you're working in a controlled environment where data loss is acceptable, you can configure MongoDB Lens to [bypass confirmation](#bypassing-confirmation-for-destructive-operations) and perform destructive operations immediately.\n\n## Test Suite\n\nMongoDB Lens includes a [test suite](./mongodb-lens.test.js) to verify functionality across tools, resources, and prompts.\n\n- [Running Tests](#test-suite-running-tests)\n- [Command Line Options](#test-suite-command-line-options)\n- [Examples](#test-suite-examples)\n\n### Test Suite: Running Tests\n\nThe test suite requires a `CONFIG_MONGO_URI` environment variable which can be set to:\n\n- a MongoDB connection string (e.g. `mongodb://localhost:27017`)\n- `mongodb-memory-server` (for in-memory testing)\n\n```console\n# Run Tests with MongoDB Connection String\nCONFIG_MONGO_URI=mongodb://localhost:27017 node mongodb-lens.test.js\n\n# Run Tests with In-Memory MongoDB (requires mongodb-memory-server)\nCONFIG_MONGO_URI=mongodb-memory-server node mongodb-lens.test.js\n```\n\nFor convenience, the following scripts are available for running tests:\n\n```console\nnpm test                        # Fails if no CONFIG_MONGO_URI provided\nnpm run test:localhost          # Uses mongodb://localhost:27017\nnpm run test:localhost:verbose  # Runs with DEBUG=true for verbose output\nnpm run test:in-memory          # Uses mongodb-memory-server\nnpm run test:in-memory:verbose  # Runs with DEBUG=true for verbose output\n```\n\n> [!NOTE]<br>\n> The test suite creates temporary databases and collections that are cleaned up after test completion.\n\n### Test Suite: Command Line Options\n\n| Option             | Description                                          |\n| ------------------ | ---------------------------------------------------- |\n| `--list`           | List all available tests without running them        |\n| `--test=<n>`       | Run specific test(s) by name (comma-separated)       |\n| `--group=<n>`      | Run all tests in specific group(s) (comma-separated) |\n| `--pattern=<glob>` | Run tests matching pattern(s) (comma-separated)      |\n\n### Test Suite: Examples\n\n```console\n# List All Available Tests\nnpm test -- --list\n\n# Run Only Connection-Related Tests (:27017)\nnpm run test:localhost -- --group=Connection\\ Tools\n\n# Test Specific Database Operations (In-Memory)\nnpm run test:in-memory -- --test=create-database\\ Tool,drop-database\\ Tool\n\n# Test All Document-Related Tools (:27017)\nnpm run test:localhost -- --pattern=document\n\n# Run Resource Tests Only (In-Memory)\nnpm run test:in-memory -- --group=Resources\n\n# Run Specific Tests Only (In-Memory)\nnpm run test:in-memory -- --test=aggregate-data\\ Tool,find-documents\\ Tool\n```\n\n## Disclaimer\n\nMongoDB Lens:\n\n- is licensed under the [MIT License](./LICENSE).\n- is not affiliated with or endorsed by MongoDB, Inc.\n- is written with the assistance of AI and may contain errors.\n- is intended for educational and experimental purposes only.\n- is provided as-is with no warranty‚Äîplease use at your own risk.\n\n## Support\n\nIf you've found MongoDB Lens helpful consider supporting my work through:\n\n[Buy Me a Coffee](https://www.buymeacoffee.com/furey) | [GitHub Sponsorship](https://github.com/sponsors/furey)\n\nContributions help me continue developing and improving this tool, allowing me to dedicate more time to add new features and ensuring it remains a valuable resource for the community.\n",
  "category": "Development",
  "quality_score": 76,
  "archestra_config": {
    "client_config_permutations": {
      "mcpServers": {
        "mongodb-lens": {
          "command": "npx",
          "args": [
            "-y",
            "mongodb-lens",
            "--uri",
            "mongodb://localhost:27017/mydatabase"
          ]
        },
        "mongodb-lens-docker": {
          "command": "docker",
          "args": [
            "run",
            "-p",
            "3000:3000",
            "-e",
            "MONGODB_URI=mongodb://host.docker.internal:27017/mydatabase",
            "furey/mongodb-lens"
          ],
          "env": {
            "MONGODB_URI": "mongodb://host.docker.internal:27017/mydatabase"
          }
        },
        "mongodb-lens-docker-configured": {
          "command": "docker",
          "args": [
            "run",
            "-p",
            "3000:3000",
            "-e",
            "MONGODB_URI=mongodb://host.docker.internal:27017/mydatabase",
            "-e",
            "MCP_PORT=3000",
            "-e",
            "MCP_CONFIRM=true",
            "furey/mongodb-lens"
          ],
          "env": {
            "MONGODB_URI": "mongodb://host.docker.internal:27017/mydatabase",
            "MCP_PORT": "3000",
            "MCP_CONFIRM": "true"
          }
        }
      }
    },
    "oauth": {
      "provider": null,
      "required": false
    }
  },
  "github_info": {
    "owner": "furey",
    "repo": "mongodb-lens",
    "url": "https://github.com/furey/mongodb-lens",
    "name": "mongodb-lens",
    "path": null,
    "stars": 176,
    "contributors": 3,
    "issues": 0,
    "releases": true,
    "ci_cd": true,
    "latest_commit_hash": "9cce4b83bf9ed4bbde29079b88d61344c3277eff"
  },
  "programming_language": "JavaScript",
  "framework": null,
  "last_scraped_at": "2025-08-04T09:34:07.912Z",
  "evaluation_model": "gemini-2.5-pro",
  "protocol_features": {
    "implementing_tools": true,
    "implementing_prompts": true,
    "implementing_resources": true,
    "implementing_sampling": true,
    "implementing_roots": false,
    "implementing_logging": false,
    "implementing_stdio": false,
    "implementing_streamable_http": true,
    "implementing_oauth2": false
  },
  "dependencies": [
    {
      "name": "@modelcontextprotocol/sdk",
      "importance": 10
    },
    {
      "name": "cross-env",
      "importance": 3
    },
    {
      "name": "lodash",
      "importance": 4
    },
    {
      "name": "mongodb",
      "importance": 9
    },
    {
      "name": "strip-json-comments",
      "importance": 3
    },
    {
      "name": "zod",
      "importance": 7
    }
  ],
  "raw_dependencies": "=== package.json ===\n{\n  \"name\": \"mongodb-lens\",\n  \"version\": \"9.1.4\",\n  \"author\": \"James Furey (https://about.me/jamesfurey)\",\n  \"description\": \"MongoDB Lens: Full Featured MCP Server for MongoDB Databases\",\n  \"license\": \"MIT\",\n  \"type\": \"module\",\n  \"main\": \"mongodb-lens.js\",\n  \"bin\": {\n    \"mongodb-lens\": \"mongodb-lens.js\"\n  },\n  \"files\": [\n    \"mongodb-lens.js\",\n    \"config-create.js\",\n    \"package.json\",\n    \"README.md\",\n    \"LICENSE\"\n  ],\n  \"scripts\": {\n    \"start\": \"node mongodb-lens.js\",\n    \"start:gc\": \"node --expose-gc mongodb-lens.js\",\n    \"start:debug\": \"node --inspect mongodb-lens.js\",\n    \"start:verbose\": \"cross-env CONFIG_LOG_LEVEL=verbose node mongodb-lens.js\",\n    \"start:inspector\": \"npx -y @modelcontextprotocol/inspector node mongodb-lens\",\n    \"docker:hub:run\": \"docker run --rm -i --network=host --pull always furey/mongodb-lens\",\n    \"docker:local:build\": \"docker build -t mongodb-lens .\",\n    \"docker:local:run\": \"docker run --rm -i --network=host mongodb-lens\",\n    \"config:create\": \"node config-create.js\",\n    \"test\": \"node mongodb-lens.test.js\",\n    \"test:localhost\": \"cross-env CONFIG_MONGO_URI=mongodb://localhost:27017 node mongodb-lens.test.js\",\n    \"test:localhost:verbose\": \"cross-env DEBUG=true CONFIG_MONGO_URI=mongodb://localhost:27017 node mongodb-lens.test.js\",\n    \"test:in-memory\": \"cross-env CONFIG_MONGO_URI=mongodb-memory-server node mongodb-lens.test.js\",\n    \"test:in-memory:verbose\": \"cross-env DEBUG=true CONFIG_MONGO_URI=mongodb-memory-server node mongodb-lens.test.js\"\n  },\n  \"keywords\": [\n    \"ai\",\n    \"llm\",\n    \"mcp\",\n    \"claude\",\n    \"mongodb\",\n    \"database\",\n    \"model-context-protocol\"\n  ],\n  \"dependencies\": {\n    \"@modelcontextprotocol/sdk\": \"^1.8.0\",\n    \"cross-env\": \"^7.0.3\",\n    \"lodash\": \"^4.17.21\",\n    \"mongodb\": \"^6.15.0\",\n    \"strip-json-comments\": \"^5.0.1\",\n    \"zod\": \"^3.24.2\"\n  },\n  \"devDependencies\": {\n    \"mongodb-memory-server\": \"^10.1.4\"\n  },\n  \"volta\": {\n    \"node\": \"22.14.0\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/furey/mongodb-lens.git\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  }\n}\n"
}